# ğŸ“± **Ù†Ø¸Ø§Ù… Ø§Ù„Ù†Ø´Ø± Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù†ØµØ§Øª ÙˆØ¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Øª - Ø§Ù„ØªÙˆØ«ÙŠÙ‚ Ø§Ù„Ø´Ø§Ù…Ù„ Ø§Ù„ÙƒØ§Ù…Ù„**

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                               â•‘
â•‘   ğŸŒ COMPLETE PLATFORM PUBLISHING & CURRENCY SYSTEM ğŸŒ      â•‘
â•‘                                                               â•‘
â•‘   ØªÙˆØ«ÙŠÙ‚ Ø´Ø§Ù…Ù„ 100% - Ù†Ø³Ø®Ø© Ù…Ø·Ø§Ø¨Ù‚Ø© Ø­Ø±ÙÙŠØ§Ù‹                     â•‘
â•‘   ÙƒÙ„ Ø²Ø± | ÙƒÙ„ Ø¯Ø§Ù„Ø© | ÙƒÙ„ Ù…Ø³Ø§Ø± | ÙƒÙ„ Ø§Ø³ØªØ¯Ø¹Ø§Ø¡                   â•‘
â•‘   RTL | Arabic | React | TypeScript | TailwindCSS           â•‘
â•‘                                                               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## ğŸ¯ **Ø§Ù„Ù‡Ø¯Ù Ø§Ù„ÙƒØ§Ù…Ù„ Ù„Ù„Ù†Ø¸Ø§Ù…**

### **Ø§Ù„Ø£Ù‡Ø¯Ø§Ù Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©:**

```
1. âœ… Ù†Ø´Ø± Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù†ØµØ§Øª Ø§Ù„Ø¹Ù‚Ø§Ø±ÙŠØ© Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©
   - Ø¹Ù‚Ø§Ø± Ù…Ø§Ø¨
   - Ø­Ø±Ø§Ø¬
   - OpenSooq
   - Ù…Ø³ØªØ¹Ù…Ù„
   - Ø§Ù„Ø³ÙˆÙ‚ Ø§Ù„Ù…ÙØªÙˆØ­

2. âœ… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Øª Ø§Ù„Ù…ØªØ¹Ø¯Ø¯Ø©
   - Ø±ÙŠØ§Ù„ Ø³Ø¹ÙˆØ¯ÙŠ (SAR) - Ø§Ù„Ø¹Ù…Ù„Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
   - Ø¯ÙˆÙ„Ø§Ø± Ø£Ù…Ø±ÙŠÙƒÙŠ (USD)
   - ÙŠÙˆØ±Ùˆ (EUR)
   - Ø¯Ø±Ù‡Ù… Ø¥Ù…Ø§Ø±Ø§ØªÙŠ (AED)
   - Ø¯ÙŠÙ†Ø§Ø± ÙƒÙˆÙŠØªÙŠ (KWD)
   - ØªØ­Ø¯ÙŠØ« Ø£Ø³Ø¹Ø§Ø± Ø§Ù„ØµØ±Ù ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹

3. âœ… Ø§Ù„ØªÙƒØ§Ù…Ù„ Ù…Ø¹ "Ù…Ù†ØµØªÙŠ" (MyPlatform)
   - Ø¹Ø±Ø¶ Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ù…Ù†Ø´ÙˆØ±Ø©
   - Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù†Ø´Ø±
   - Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­Ø§Ù„Ø©
   - ØªØªØ¨Ø¹ Ø§Ù„Ø£Ø¯Ø§Ø¡

4. âœ… Ø¥Ø¯Ø§Ø±Ø© Ø´Ø§Ù…Ù„Ø©
   - Ù†Ø´Ø± ØªÙ„Ù‚Ø§Ø¦ÙŠ/ÙŠØ¯ÙˆÙŠ
   - Ø¬Ø¯ÙˆÙ„Ø© Ø§Ù„Ù†Ø´Ø±
   - ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø±ÙˆØ¶
   - Ø­Ø°Ù Ù…Ù† Ø§Ù„Ù…Ù†ØµØ§Øª
   - Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª ØªÙØµÙŠÙ„ÙŠØ©
```

---

## ğŸ—ï¸ **Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„ÙƒØ§Ù…Ù„Ø© Ù„Ù„Ù†Ø¸Ø§Ù…**

### **1. Ù‡ÙŠÙƒÙ„ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„ÙƒØ§Ù…Ù„**

```
ğŸ“¦ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
â”‚
â”œâ”€â”€ ğŸ“‚ /components/
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“‚ /platform/                      (Ù…Ø¬Ù„Ø¯ Ø§Ù„Ù†Ø´Ø± Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù†ØµØ§Øª)
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ PlatformPublisher.tsx      (Ø§Ù„Ù…ÙƒÙˆÙ† Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ Ù„Ù„Ù†Ø´Ø±)
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ PlatformSelector.tsx       (Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…Ù†ØµØ§Øª)
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ PublishModal.tsx           (Modal Ø§Ù„Ù†Ø´Ø±)
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ PublishStatus.tsx          (Ø­Ø§Ù„Ø© Ø§Ù„Ù†Ø´Ø±)
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ PublishHistory.tsx         (Ø³Ø¬Ù„ Ø§Ù„Ù†Ø´Ø±)
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ PublishAnalytics.tsx       (Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù†Ø´Ø±)
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ BulkPublisher.tsx          (Ù†Ø´Ø± Ø¬Ù…Ø§Ø¹ÙŠ)
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ SchedulePublish.tsx        (Ø¬Ø¯ÙˆÙ„Ø© Ø§Ù„Ù†Ø´Ø±)
â”‚   â”‚   â””â”€â”€ ğŸ“„ index.ts                   (ØªØµØ¯ÙŠØ± Ù…ÙˆØ­Ø¯)
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“‚ /currency/                      (Ù…Ø¬Ù„Ø¯ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Øª)
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ CurrencySelector.tsx       (Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø¹Ù…Ù„Ø©)
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ CurrencyConverter.tsx      (Ù…Ø­ÙˆÙ„ Ø§Ù„Ø¹Ù…Ù„Ø§Øª)
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ CurrencyDisplay.tsx        (Ø¹Ø±Ø¶ Ø§Ù„Ø³Ø¹Ø± Ø¨Ø§Ù„Ø¹Ù…Ù„Ø§Øª)
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ ExchangeRateWidget.tsx     (Ø£Ø³Ø¹Ø§Ø± Ø§Ù„ØµØ±Ù)
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ CurrencySettings.tsx       (Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¹Ù…Ù„Ø§Øª)
â”‚   â”‚   â””â”€â”€ ğŸ“„ index.ts                   (ØªØµØ¯ÙŠØ± Ù…ÙˆØ­Ø¯)
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“„ MyPlatform.tsx                  (Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© - Ù…Ù†ØµØªÙŠ)
â”‚   â”œâ”€â”€ ğŸ“„ OffersControlDashboard.tsx      (Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…)
â”‚   â””â”€â”€ ğŸ“„ ... (Ù…ÙƒÙˆÙ†Ø§Øª Ø£Ø®Ø±Ù‰)
â”‚
â”œâ”€â”€ ğŸ“‚ /lib/
â”‚   â”œâ”€â”€ ğŸ“„ platformAPI.ts                  (API Ø§Ù„Ù…Ù†ØµØ§Øª)
â”‚   â”œâ”€â”€ ğŸ“„ currencyAPI.ts                  (API Ø§Ù„Ø¹Ù…Ù„Ø§Øª)
â”‚   â””â”€â”€ ğŸ“„ utils.ts                        (Ø¯ÙˆØ§Ù„ Ù…Ø³Ø§Ø¹Ø¯Ø©)
â”‚
â”œâ”€â”€ ğŸ“‚ /types/
â”‚   â”œâ”€â”€ ğŸ“„ platform.types.ts               (ØªØ¹Ø±ÙŠÙØ§Øª Ø§Ù„Ù…Ù†ØµØ§Øª)
â”‚   â””â”€â”€ ğŸ“„ currency.types.ts               (ØªØ¹Ø±ÙŠÙØ§Øª Ø§Ù„Ø¹Ù…Ù„Ø§Øª)
â”‚
â””â”€â”€ ğŸ“‚ /hooks/
    â”œâ”€â”€ ğŸ“„ usePlatformPublish.ts           (Hook Ù„Ù„Ù†Ø´Ø±)
    â””â”€â”€ ğŸ“„ useCurrency.ts                  (Hook Ù„Ù„Ø¹Ù…Ù„Ø§Øª)
```

---

## ğŸ“‹ **Ø§Ù„ØªØ¹Ø±ÙŠÙØ§Øª Ø§Ù„ÙƒØ§Ù…Ù„Ø© (Types & Interfaces)**

### **1. Platform Types**

```typescript
// File: /types/platform.types.ts

/**
 * Ø§Ù„Ù…Ù†ØµØ§Øª Ø§Ù„Ø¹Ù‚Ø§Ø±ÙŠØ© Ø§Ù„Ù…Ø¯Ø¹ÙˆÙ…Ø©
 */
export enum Platform {
  AQAR_MAP = 'AQAR_MAP',           // Ø¹Ù‚Ø§Ø± Ù…Ø§Ø¨
  HARAJ = 'HARAJ',                 // Ø­Ø±Ø§Ø¬
  OPENSOOQ = 'OPENSOOQ',           // OpenSooq
  MSTAML = 'MSTAML',               // Ù…Ø³ØªØ¹Ù…Ù„
  OPEN_MARKET = 'OPEN_MARKET',     // Ø§Ù„Ø³ÙˆÙ‚ Ø§Ù„Ù…ÙØªÙˆØ­
}

/**
 * Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ù…Ù†ØµØ§Øª Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©
 */
export const PLATFORM_NAMES: Record<Platform, string> = {
  [Platform.AQAR_MAP]: 'Ø¹Ù‚Ø§Ø± Ù…Ø§Ø¨',
  [Platform.HARAJ]: 'Ø­Ø±Ø§Ø¬',
  [Platform.OPENSOOQ]: 'Ø£ÙˆØ¨Ù† Ø³ÙˆÙ‚',
  [Platform.MSTAML]: 'Ù…Ø³ØªØ¹Ù…Ù„',
  [Platform.OPEN_MARKET]: 'Ø§Ù„Ø³ÙˆÙ‚ Ø§Ù„Ù…ÙØªÙˆØ­',
};

/**
 * Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ù…Ù†ØµØ§Øª
 */
export const PLATFORM_LOGOS: Record<Platform, string> = {
  [Platform.AQAR_MAP]: '/platforms/aqarmap.png',
  [Platform.HARAJ]: '/platforms/haraj.png',
  [Platform.OPENSOOQ]: '/platforms/opensooq.png',
  [Platform.MSTAML]: '/platforms/mstaml.png',
  [Platform.OPEN_MARKET]: '/platforms/openmarket.png',
};

/**
 * Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ù…Ù†ØµØ§Øª
 */
export const PLATFORM_COLORS: Record<Platform, string> = {
  [Platform.AQAR_MAP]: '#00A8E8',      // Ø£Ø²Ø±Ù‚
  [Platform.HARAJ]: '#FF6B35',         // Ø¨Ø±ØªÙ‚Ø§Ù„ÙŠ
  [Platform.OPENSOOQ]: '#4CAF50',      // Ø£Ø®Ø¶Ø±
  [Platform.MSTAML]: '#9C27B0',        // Ø¨Ù†ÙØ³Ø¬ÙŠ
  [Platform.OPEN_MARKET]: '#FF9800',   // Ø¨Ø±ØªÙ‚Ø§Ù„ÙŠ ØºØ§Ù…Ù‚
};

/**
 * Ø­Ø§Ù„Ø© Ø§Ù„Ù†Ø´Ø±
 */
export enum PublishStatus {
  DRAFT = 'DRAFT',                 // Ù…Ø³ÙˆØ¯Ø©
  PENDING = 'PENDING',             // Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±
  PUBLISHING = 'PUBLISHING',       // Ø¬Ø§Ø±ÙŠ Ø§Ù„Ù†Ø´Ø±
  PUBLISHED = 'PUBLISHED',         // Ù…Ù†Ø´ÙˆØ±
  FAILED = 'FAILED',               // ÙØ´Ù„
  UPDATING = 'UPDATING',           // Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ø¯ÙŠØ«
  DELETING = 'DELETING',           // Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø­Ø°Ù
  DELETED = 'DELETED',             // Ù…Ø­Ø°ÙˆÙ
  SCHEDULED = 'SCHEDULED',         // Ù…Ø¬Ø¯ÙˆÙ„
}

/**
 * Ø£Ø³Ù…Ø§Ø¡ Ø­Ø§Ù„Ø§Øª Ø§Ù„Ù†Ø´Ø± Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©
 */
export const PUBLISH_STATUS_NAMES: Record<PublishStatus, string> = {
  [PublishStatus.DRAFT]: 'Ù…Ø³ÙˆØ¯Ø©',
  [PublishStatus.PENDING]: 'Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±',
  [PublishStatus.PUBLISHING]: 'Ø¬Ø§Ø±ÙŠ Ø§Ù„Ù†Ø´Ø±',
  [PublishStatus.PUBLISHED]: 'Ù…Ù†Ø´ÙˆØ±',
  [PublishStatus.FAILED]: 'ÙØ´Ù„',
  [PublishStatus.UPDATING]: 'Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ø¯ÙŠØ«',
  [PublishStatus.DELETING]: 'Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø­Ø°Ù',
  [PublishStatus.DELETED]: 'Ù…Ø­Ø°ÙˆÙ',
  [PublishStatus.SCHEDULED]: 'Ù…Ø¬Ø¯ÙˆÙ„',
};

/**
 * Ø£Ù„ÙˆØ§Ù† Ø­Ø§Ù„Ø§Øª Ø§Ù„Ù†Ø´Ø±
 */
export const PUBLISH_STATUS_COLORS: Record<PublishStatus, string> = {
  [PublishStatus.DRAFT]: 'bg-gray-100 text-gray-700',
  [PublishStatus.PENDING]: 'bg-yellow-100 text-yellow-700',
  [PublishStatus.PUBLISHING]: 'bg-blue-100 text-blue-700',
  [PublishStatus.PUBLISHED]: 'bg-green-100 text-green-700',
  [PublishStatus.FAILED]: 'bg-red-100 text-red-700',
  [PublishStatus.UPDATING]: 'bg-purple-100 text-purple-700',
  [PublishStatus.DELETING]: 'bg-orange-100 text-orange-700',
  [PublishStatus.DELETED]: 'bg-gray-100 text-gray-500',
  [PublishStatus.SCHEDULED]: 'bg-indigo-100 text-indigo-700',
};

/**
 * Ù†ÙˆØ¹ Ø§Ù„Ù†Ø´Ø±
 */
export enum PublishType {
  MANUAL = 'MANUAL',               // ÙŠØ¯ÙˆÙŠ
  AUTOMATIC = 'AUTOMATIC',         // ØªÙ„Ù‚Ø§Ø¦ÙŠ
  SCHEDULED = 'SCHEDULED',         // Ù…Ø¬Ø¯ÙˆÙ„
  BULK = 'BULK',                   // Ø¬Ù…Ø§Ø¹ÙŠ
}

/**
 * Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù†ØµØ©
 */
export interface PlatformData {
  platform: Platform;              // Ø§Ù„Ù…Ù†ØµØ©
  platformId?: string;             // Ù…Ø¹Ø±Ù Ø§Ù„Ø¹Ø±Ø¶ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù†ØµØ©
  status: PublishStatus;           // Ø§Ù„Ø­Ø§Ù„Ø©
  publishedAt?: Date;              // ØªØ§Ø±ÙŠØ® Ø§Ù„Ù†Ø´Ø±
  lastUpdated?: Date;              // Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«
  viewCount?: number;              // Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯Ø§Øª
  clickCount?: number;             // Ø¹Ø¯Ø¯ Ø§Ù„Ù†Ù‚Ø±Ø§Øª
  leadCount?: number;              // Ø¹Ø¯Ø¯ Ø§Ù„Ø§Ø³ØªÙØ³Ø§Ø±Ø§Øª
  errorMessage?: string;           // Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø®Ø·Ø£
  externalUrl?: string;            // Ø±Ø§Ø¨Ø· Ø§Ù„Ø¹Ø±Ø¶ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù†ØµØ©
}

/**
 * Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù†Ø´Ø±
 */
export interface PublishSettings {
  autoPublish: boolean;            // Ù†Ø´Ø± ØªÙ„Ù‚Ø§Ø¦ÙŠ
  selectedPlatforms: Platform[];   // Ø§Ù„Ù…Ù†ØµØ§Øª Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©
  publishDelay?: number;           // ØªØ£Ø®ÙŠØ± Ø§Ù„Ù†Ø´Ø± (Ø¨Ø§Ù„Ø¯Ù‚Ø§Ø¦Ù‚)
  autoUpdate: boolean;             // ØªØ­Ø¯ÙŠØ« ØªÙ„Ù‚Ø§Ø¦ÙŠ
  autoDelete: boolean;             // Ø­Ø°Ù ØªÙ„Ù‚Ø§Ø¦ÙŠ
  notifyOnPublish: boolean;        // Ø¥Ø´Ø¹Ø§Ø± Ø¹Ù†Ø¯ Ø§Ù„Ù†Ø´Ø±
  notifyOnError: boolean;          // Ø¥Ø´Ø¹Ø§Ø± Ø¹Ù†Ø¯ Ø§Ù„Ø®Ø·Ø£
}

/**
 * Ø³Ø¬Ù„ Ø§Ù„Ù†Ø´Ø±
 */
export interface PublishHistoryItem {
  id: string;                      // Ù…Ø¹Ø±Ù Ø§Ù„Ø³Ø¬Ù„
  offerId: string;                 // Ù…Ø¹Ø±Ù Ø§Ù„Ø¹Ø±Ø¶
  platform: Platform;              // Ø§Ù„Ù…Ù†ØµØ©
  action: 'PUBLISH' | 'UPDATE' | 'DELETE';  // Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡
  status: PublishStatus;           // Ø§Ù„Ø­Ø§Ù„Ø©
  publishType: PublishType;        // Ù†ÙˆØ¹ Ø§Ù„Ù†Ø´Ø±
  performedBy: string;             // Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
  performedAt: Date;               // Ø§Ù„ØªØ§Ø±ÙŠØ®
  errorMessage?: string;           // Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø®Ø·Ø£
  metadata?: Record<string, any>;  // Ø¨ÙŠØ§Ù†Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©
}

/**
 * Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù†Ø´Ø±
 */
export interface PublishAnalytics {
  totalPublished: number;          // Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ù†Ø´ÙˆØ±
  publishedByPlatform: Record<Platform, number>;  // Ø­Ø³Ø¨ Ø§Ù„Ù…Ù†ØµØ©
  totalViews: number;              // Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯Ø§Øª
  totalClicks: number;             // Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù†Ù‚Ø±Ø§Øª
  totalLeads: number;              // Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø§Ø³ØªÙØ³Ø§Ø±Ø§Øª
  successRate: number;             // Ù†Ø³Ø¨Ø© Ø§Ù„Ù†Ø¬Ø§Ø­
  failureRate: number;             // Ù†Ø³Ø¨Ø© Ø§Ù„ÙØ´Ù„
  averagePublishTime: number;      // Ù…ØªÙˆØ³Ø· ÙˆÙ‚Øª Ø§Ù„Ù†Ø´Ø± (Ø¨Ø§Ù„Ø«ÙˆØ§Ù†ÙŠ)
  topPlatform?: Platform;          // Ø£ÙØ¶Ù„ Ù…Ù†ØµØ©
  recentPublishes: PublishHistoryItem[];  // Ø¢Ø®Ø± Ø§Ù„Ù†Ø´Ø±Ø§Øª
}

/**
 * Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ø±Ø¶ Ù„Ù„Ù†Ø´Ø±
 */
export interface OfferPublishData {
  id: string;                      // Ù…Ø¹Ø±Ù Ø§Ù„Ø¹Ø±Ø¶
  title: string;                   // Ø§Ù„Ø¹Ù†ÙˆØ§Ù†
  description: string;             // Ø§Ù„ÙˆØµÙ
  price: number;                   // Ø§Ù„Ø³Ø¹Ø± (Ø¨Ø§Ù„Ø±ÙŠØ§Ù„)
  currency: string;                // Ø§Ù„Ø¹Ù…Ù„Ø©
  images: string[];                // Ø§Ù„ØµÙˆØ±
  video?: string;                  // Ø§Ù„ÙÙŠØ¯ÙŠÙˆ
  location: {                      // Ø§Ù„Ù…ÙˆÙ‚Ø¹
    city: string;
    district: string;
    latitude?: number;
    longitude?: number;
  };
  category: string;                // Ø§Ù„ÙØ¦Ø©
  propertyType: string;            // Ù†ÙˆØ¹ Ø§Ù„Ø¹Ù‚Ø§Ø±
  area: number;                    // Ø§Ù„Ù…Ø³Ø§Ø­Ø©
  rooms?: number;                  // Ø§Ù„ØºØ±Ù
  bathrooms?: number;              // Ø§Ù„Ø­Ù…Ø§Ù…Ø§Øª
  features: string[];              // Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª
  contactInfo: {                   // Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªÙˆØ§ØµÙ„
    name: string;
    phone: string;
    email?: string;
  };
  platforms?: PlatformData[];      // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù†ØµØ§Øª
}
```

---

### **2. Currency Types**

```typescript
// File: /types/currency.types.ts

/**
 * Ø§Ù„Ø¹Ù…Ù„Ø§Øª Ø§Ù„Ù…Ø¯Ø¹ÙˆÙ…Ø©
 */
export enum Currency {
  SAR = 'SAR',   // Ø±ÙŠØ§Ù„ Ø³Ø¹ÙˆØ¯ÙŠ
  USD = 'USD',   // Ø¯ÙˆÙ„Ø§Ø± Ø£Ù…Ø±ÙŠÙƒÙŠ
  EUR = 'EUR',   // ÙŠÙˆØ±Ùˆ
  AED = 'AED',   // Ø¯Ø±Ù‡Ù… Ø¥Ù…Ø§Ø±Ø§ØªÙŠ
  KWD = 'KWD',   // Ø¯ÙŠÙ†Ø§Ø± ÙƒÙˆÙŠØªÙŠ
  GBP = 'GBP',   // Ø¬Ù†ÙŠÙ‡ Ø¥Ø³ØªØ±Ù„ÙŠÙ†ÙŠ
  EGP = 'EGP',   // Ø¬Ù†ÙŠÙ‡ Ù…ØµØ±ÙŠ
  QAR = 'QAR',   // Ø±ÙŠØ§Ù„ Ù‚Ø·Ø±ÙŠ
  BHD = 'BHD',   // Ø¯ÙŠÙ†Ø§Ø± Ø¨Ø­Ø±ÙŠÙ†ÙŠ
  OMR = 'OMR',   // Ø±ÙŠØ§Ù„ Ø¹Ù…Ø§Ù†ÙŠ
}

/**
 * Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ø¹Ù…Ù„Ø§Øª Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©
 */
export const CURRENCY_NAMES: Record<Currency, string> = {
  [Currency.SAR]: 'Ø±ÙŠØ§Ù„ Ø³Ø¹ÙˆØ¯ÙŠ',
  [Currency.USD]: 'Ø¯ÙˆÙ„Ø§Ø± Ø£Ù…Ø±ÙŠÙƒÙŠ',
  [Currency.EUR]: 'ÙŠÙˆØ±Ùˆ',
  [Currency.AED]: 'Ø¯Ø±Ù‡Ù… Ø¥Ù…Ø§Ø±Ø§ØªÙŠ',
  [Currency.KWD]: 'Ø¯ÙŠÙ†Ø§Ø± ÙƒÙˆÙŠØªÙŠ',
  [Currency.GBP]: 'Ø¬Ù†ÙŠÙ‡ Ø¥Ø³ØªØ±Ù„ÙŠÙ†ÙŠ',
  [Currency.EGP]: 'Ø¬Ù†ÙŠÙ‡ Ù…ØµØ±ÙŠ',
  [Currency.QAR]: 'Ø±ÙŠØ§Ù„ Ù‚Ø·Ø±ÙŠ',
  [Currency.BHD]: 'Ø¯ÙŠÙ†Ø§Ø± Ø¨Ø­Ø±ÙŠÙ†ÙŠ',
  [Currency.OMR]: 'Ø±ÙŠØ§Ù„ Ø¹Ù…Ø§Ù†ÙŠ',
};

/**
 * Ø±Ù…ÙˆØ² Ø§Ù„Ø¹Ù…Ù„Ø§Øª
 */
export const CURRENCY_SYMBOLS: Record<Currency, string> = {
  [Currency.SAR]: 'Ø±.Ø³',
  [Currency.USD]: '$',
  [Currency.EUR]: 'â‚¬',
  [Currency.AED]: 'Ø¯.Ø¥',
  [Currency.KWD]: 'Ø¯.Ùƒ',
  [Currency.GBP]: 'Â£',
  [Currency.EGP]: 'Ø¬.Ù…',
  [Currency.QAR]: 'Ø±.Ù‚',
  [Currency.BHD]: 'Ø¯.Ø¨',
  [Currency.OMR]: 'Ø±.Ø¹',
};

/**
 * Ø£Ø¹Ù„Ø§Ù… Ø§Ù„Ø¹Ù…Ù„Ø§Øª (ISO 3166-1 alpha-2)
 */
export const CURRENCY_FLAGS: Record<Currency, string> = {
  [Currency.SAR]: 'ğŸ‡¸ğŸ‡¦',
  [Currency.USD]: 'ğŸ‡ºğŸ‡¸',
  [Currency.EUR]: 'ğŸ‡ªğŸ‡º',
  [Currency.AED]: 'ğŸ‡¦ğŸ‡ª',
  [Currency.KWD]: 'ğŸ‡°ğŸ‡¼',
  [Currency.GBP]: 'ğŸ‡¬ğŸ‡§',
  [Currency.EGP]: 'ğŸ‡ªğŸ‡¬',
  [Currency.QAR]: 'ğŸ‡¶ğŸ‡¦',
  [Currency.BHD]: 'ğŸ‡§ğŸ‡­',
  [Currency.OMR]: 'ğŸ‡´ğŸ‡²',
};

/**
 * Ø³Ø¹Ø± Ø§Ù„ØµØ±Ù
 */
export interface ExchangeRate {
  from: Currency;                  // Ù…Ù† Ø¹Ù…Ù„Ø©
  to: Currency;                    // Ø¥Ù„Ù‰ Ø¹Ù…Ù„Ø©
  rate: number;                    // Ø§Ù„Ø³Ø¹Ø±
  lastUpdated: Date;               // Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«
  source: string;                  // Ø§Ù„Ù…ØµØ¯Ø±
}

/**
 * Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø³Ø¹Ø± Ø¨Ø§Ù„Ø¹Ù…Ù„Ø§Øª Ø§Ù„Ù…ØªØ¹Ø¯Ø¯Ø©
 */
export interface MultiCurrencyPrice {
  baseCurrency: Currency;          // Ø§Ù„Ø¹Ù…Ù„Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
  baseAmount: number;              // Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ
  conversions: {                   // Ø§Ù„ØªØ­ÙˆÙŠÙ„Ø§Øª
    [key in Currency]?: number;
  };
  lastUpdated: Date;               // Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«
}

/**
 * Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¹Ù…Ù„Ø§Øª
 */
export interface CurrencySettings {
  defaultCurrency: Currency;       // Ø§Ù„Ø¹Ù…Ù„Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
  displayCurrencies: Currency[];   // Ø§Ù„Ø¹Ù…Ù„Ø§Øª Ø§Ù„Ù…Ø¹Ø±ÙˆØ¶Ø©
  autoUpdate: boolean;             // ØªØ­Ø¯ÙŠØ« ØªÙ„Ù‚Ø§Ø¦ÙŠ
  updateInterval: number;          // ÙØªØ±Ø© Ø§Ù„ØªØ­Ø¯ÙŠØ« (Ø¨Ø§Ù„Ø¯Ù‚Ø§Ø¦Ù‚)
  roundDecimals: number;           // Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ø¹Ø´Ø±ÙŠØ©
  showSymbol: boolean;             // Ø¹Ø±Ø¶ Ø§Ù„Ø±Ù…Ø²
  symbolPosition: 'before' | 'after';  // Ù…ÙˆØ¶Ø¹ Ø§Ù„Ø±Ù…Ø²
}
```

---

## ğŸ”§ **API Functions (Ø§Ù„Ø¯ÙˆØ§Ù„ Ø§Ù„ÙƒØ§Ù…Ù„Ø©)**

### **1. Platform API**

```typescript
// File: /lib/platformAPI.ts

import { 
  Platform, 
  PublishStatus, 
  OfferPublishData,
  PlatformData,
  PublishHistoryItem,
  PublishAnalytics,
} from '@/types/platform.types';

/**
 * Ù†Ø´Ø± Ø¹Ø±Ø¶ Ø¹Ù„Ù‰ Ù…Ù†ØµØ© ÙˆØ§Ø­Ø¯Ø©
 * 
 * @param offerId - Ù…Ø¹Ø±Ù Ø§Ù„Ø¹Ø±Ø¶
 * @param platform - Ø§Ù„Ù…Ù†ØµØ©
 * @param offerData - Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ø±Ø¶
 * @returns Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù†Ø´Ø±
 * 
 * @example
 * const result = await publishToSinglePlatform(
 *   'offer_123',
 *   Platform.AQAR_MAP,
 *   offerData
 * );
 */
export async function publishToSinglePlatform(
  offerId: string,
  platform: Platform,
  offerData: OfferPublishData
): Promise<PlatformData> {
  try {
    const response = await fetch('/api/platform/publish/single', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        offerId,
        platform,
        offerData,
      }),
    });

    const data = await response.json();

    if (!data.success) {
      throw new Error(data.message || 'ÙØ´Ù„ Ø§Ù„Ù†Ø´Ø±');
    }

    return data.platformData;
  } catch (error) {
    console.error(`Error publishing to ${platform}:`, error);
    throw error;
  }
}

/**
 * Ù†Ø´Ø± Ø¹Ø±Ø¶ Ø¹Ù„Ù‰ Ù…Ù†ØµØ§Øª Ù…ØªØ¹Ø¯Ø¯Ø©
 * 
 * @param offerId - Ù…Ø¹Ø±Ù Ø§Ù„Ø¹Ø±Ø¶
 * @param platforms - Ø§Ù„Ù…Ù†ØµØ§Øª
 * @param offerData - Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ø±Ø¶
 * @returns Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù†Ø´Ø± Ù„ÙƒÙ„ Ù…Ù†ØµØ©
 * 
 * @example
 * const results = await publishToMultiplePlatforms(
 *   'offer_123',
 *   [Platform.AQAR_MAP, Platform.HARAJ],
 *   offerData
 * );
 */
export async function publishToMultiplePlatforms(
  offerId: string,
  platforms: Platform[],
  offerData: OfferPublishData
): Promise<Record<Platform, PlatformData>> {
  try {
    const response = await fetch('/api/platform/publish/multiple', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        offerId,
        platforms,
        offerData,
      }),
    });

    const data = await response.json();

    if (!data.success) {
      throw new Error(data.message || 'ÙØ´Ù„ Ø§Ù„Ù†Ø´Ø±');
    }

    return data.results;
  } catch (error) {
    console.error('Error publishing to multiple platforms:', error);
    throw error;
  }
}

/**
 * ØªØ­Ø¯ÙŠØ« Ø¹Ø±Ø¶ Ù…Ù†Ø´ÙˆØ± Ø¹Ù„Ù‰ Ù…Ù†ØµØ©
 * 
 * @param offerId - Ù…Ø¹Ø±Ù Ø§Ù„Ø¹Ø±Ø¶
 * @param platform - Ø§Ù„Ù…Ù†ØµØ©
 * @param platformId - Ù…Ø¹Ø±Ù Ø§Ù„Ø¹Ø±Ø¶ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù†ØµØ©
 * @param updates - Ø§Ù„ØªØ­Ø¯ÙŠØ«Ø§Øª
 * @returns Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù†ØµØ© Ø§Ù„Ù…Ø­Ø¯Ø«Ø©
 */
export async function updatePublishedOffer(
  offerId: string,
  platform: Platform,
  platformId: string,
  updates: Partial<OfferPublishData>
): Promise<PlatformData> {
  try {
    const response = await fetch('/api/platform/update', {
      method: 'PUT',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        offerId,
        platform,
        platformId,
        updates,
      }),
    });

    const data = await response.json();

    if (!data.success) {
      throw new Error(data.message || 'ÙØ´Ù„ Ø§Ù„ØªØ­Ø¯ÙŠØ«');
    }

    return data.platformData;
  } catch (error) {
    console.error(`Error updating offer on ${platform}:`, error);
    throw error;
  }
}

/**
 * Ø­Ø°Ù Ø¹Ø±Ø¶ Ù…Ù† Ù…Ù†ØµØ©
 * 
 * @param offerId - Ù…Ø¹Ø±Ù Ø§Ù„Ø¹Ø±Ø¶
 * @param platform - Ø§Ù„Ù…Ù†ØµØ©
 * @param platformId - Ù…Ø¹Ø±Ù Ø§Ù„Ø¹Ø±Ø¶ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù†ØµØ©
 * @returns Ù†ØªÙŠØ¬Ø© Ø§Ù„Ø­Ø°Ù
 */
export async function deleteFromPlatform(
  offerId: string,
  platform: Platform,
  platformId: string
): Promise<boolean> {
  try {
    const response = await fetch('/api/platform/delete', {
      method: 'DELETE',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        offerId,
        platform,
        platformId,
      }),
    });

    const data = await response.json();

    if (!data.success) {
      throw new Error(data.message || 'ÙØ´Ù„ Ø§Ù„Ø­Ø°Ù');
    }

    return true;
  } catch (error) {
    console.error(`Error deleting from ${platform}:`, error);
    throw error;
  }
}

/**
 * Ø¬Ù„Ø¨ Ø­Ø§Ù„Ø© Ø§Ù„Ù†Ø´Ø± Ù„Ø¹Ø±Ø¶
 * 
 * @param offerId - Ù…Ø¹Ø±Ù Ø§Ù„Ø¹Ø±Ø¶
 * @returns Ø­Ø§Ù„Ø§Øª Ø§Ù„Ù†Ø´Ø± Ø¹Ù„Ù‰ ÙƒÙ„ Ù…Ù†ØµØ©
 */
export async function getPublishStatus(
  offerId: string
): Promise<Record<Platform, PlatformData>> {
  try {
    const response = await fetch(`/api/platform/status/${offerId}`);
    const data = await response.json();

    if (!data.success) {
      throw new Error(data.message || 'ÙØ´Ù„ Ø¬Ù„Ø¨ Ø§Ù„Ø­Ø§Ù„Ø©');
    }

    return data.platforms;
  } catch (error) {
    console.error('Error fetching publish status:', error);
    throw error;
  }
}

/**
 * Ø¬Ù„Ø¨ Ø³Ø¬Ù„ Ø§Ù„Ù†Ø´Ø±
 * 
 * @param offerId - Ù…Ø¹Ø±Ù Ø§Ù„Ø¹Ø±Ø¶ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
 * @param platform - Ø§Ù„Ù…Ù†ØµØ© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
 * @param limit - Ø¹Ø¯Ø¯ Ø§Ù„Ø³Ø¬Ù„Ø§Øª
 * @returns Ø³Ø¬Ù„ Ø§Ù„Ù†Ø´Ø±
 */
export async function getPublishHistory(
  offerId?: string,
  platform?: Platform,
  limit: number = 50
): Promise<PublishHistoryItem[]> {
  try {
    const params = new URLSearchParams();
    if (offerId) params.append('offerId', offerId);
    if (platform) params.append('platform', platform);
    params.append('limit', limit.toString());

    const response = await fetch(`/api/platform/history?${params}`);
    const data = await response.json();

    if (!data.success) {
      throw new Error(data.message || 'ÙØ´Ù„ Ø¬Ù„Ø¨ Ø§Ù„Ø³Ø¬Ù„');
    }

    return data.history;
  } catch (error) {
    console.error('Error fetching publish history:', error);
    throw error;
  }
}

/**
 * Ø¬Ù„Ø¨ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù†Ø´Ø±
 * 
 * @param userId - Ù…Ø¹Ø±Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
 * @returns Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù†Ø´Ø±
 */
export async function getPublishAnalytics(
  userId: string
): Promise<PublishAnalytics> {
  try {
    const response = await fetch(`/api/platform/analytics/${userId}`);
    const data = await response.json();

    if (!data.success) {
      throw new Error(data.message || 'ÙØ´Ù„ Ø¬Ù„Ø¨ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª');
    }

    return data.analytics;
  } catch (error) {
    console.error('Error fetching publish analytics:', error);
    throw error;
  }
}

/**
 * Ø¬Ø¯ÙˆÙ„Ø© Ù†Ø´Ø± Ø¹Ø±Ø¶
 * 
 * @param offerId - Ù…Ø¹Ø±Ù Ø§Ù„Ø¹Ø±Ø¶
 * @param platforms - Ø§Ù„Ù…Ù†ØµØ§Øª
 * @param scheduledFor - Ù…ÙˆØ¹Ø¯ Ø§Ù„Ù†Ø´Ø±
 * @param offerData - Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ø±Ø¶
 * @returns Ù…Ø¹Ø±Ù Ø§Ù„Ø¬Ø¯ÙˆÙ„Ø©
 */
export async function schedulePublish(
  offerId: string,
  platforms: Platform[],
  scheduledFor: Date,
  offerData: OfferPublishData
): Promise<string> {
  try {
    const response = await fetch('/api/platform/schedule', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        offerId,
        platforms,
        scheduledFor: scheduledFor.toISOString(),
        offerData,
      }),
    });

    const data = await response.json();

    if (!data.success) {
      throw new Error(data.message || 'ÙØ´Ù„ Ø§Ù„Ø¬Ø¯ÙˆÙ„Ø©');
    }

    return data.scheduleId;
  } catch (error) {
    console.error('Error scheduling publish:', error);
    throw error;
  }
}

/**
 * Ù†Ø´Ø± Ø¬Ù…Ø§Ø¹ÙŠ Ù„Ø¹Ø¯Ø© Ø¹Ø±ÙˆØ¶
 * 
 * @param offerIds - Ù…Ø¹Ø±ÙØ§Øª Ø§Ù„Ø¹Ø±ÙˆØ¶
 * @param platforms - Ø§Ù„Ù…Ù†ØµØ§Øª
 * @returns Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù†Ø´Ø±
 */
export async function bulkPublish(
  offerIds: string[],
  platforms: Platform[]
): Promise<Record<string, Record<Platform, PlatformData>>> {
  try {
    const response = await fetch('/api/platform/bulk-publish', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        offerIds,
        platforms,
      }),
    });

    const data = await response.json();

    if (!data.success) {
      throw new Error(data.message || 'ÙØ´Ù„ Ø§Ù„Ù†Ø´Ø± Ø§Ù„Ø¬Ù…Ø§Ø¹ÙŠ');
    }

    return data.results;
  } catch (error) {
    console.error('Error bulk publishing:', error);
    throw error;
  }
}
```

---

### **2. Currency API**

```typescript
// File: /lib/currencyAPI.ts

import {
  Currency,
  ExchangeRate,
  MultiCurrencyPrice,
  CurrencySettings,
} from '@/types/currency.types';

/**
 * Ø¬Ù„Ø¨ Ø£Ø³Ø¹Ø§Ø± Ø§Ù„ØµØ±Ù Ø§Ù„Ø­Ø§Ù„ÙŠØ©
 * 
 * @param baseCurrency - Ø§Ù„Ø¹Ù…Ù„Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
 * @param targetCurrencies - Ø§Ù„Ø¹Ù…Ù„Ø§Øª Ø§Ù„Ù…Ø³ØªÙ‡Ø¯ÙØ©
 * @returns Ø£Ø³Ø¹Ø§Ø± Ø§Ù„ØµØ±Ù
 * 
 * @example
 * const rates = await getExchangeRates(
 *   Currency.SAR,
 *   [Currency.USD, Currency.EUR]
 * );
 */
export async function getExchangeRates(
  baseCurrency: Currency = Currency.SAR,
  targetCurrencies: Currency[] = Object.values(Currency)
): Promise<ExchangeRate[]> {
  try {
    const response = await fetch('/api/currency/rates', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        baseCurrency,
        targetCurrencies,
      }),
    });

    const data = await response.json();

    if (!data.success) {
      throw new Error(data.message || 'ÙØ´Ù„ Ø¬Ù„Ø¨ Ø£Ø³Ø¹Ø§Ø± Ø§Ù„ØµØ±Ù');
    }

    return data.rates;
  } catch (error) {
    console.error('Error fetching exchange rates:', error);
    throw error;
  }
}

/**
 * ØªØ­ÙˆÙŠÙ„ Ù…Ø¨Ù„Øº Ù…Ù† Ø¹Ù…Ù„Ø© Ø¥Ù„Ù‰ Ø£Ø®Ø±Ù‰
 * 
 * @param amount - Ø§Ù„Ù…Ø¨Ù„Øº
 * @param fromCurrency - Ù…Ù† Ø¹Ù…Ù„Ø©
 * @param toCurrency - Ø¥Ù„Ù‰ Ø¹Ù…Ù„Ø©
 * @returns Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø­ÙˆÙ„
 * 
 * @example
 * const converted = await convertCurrency(1000, Currency.SAR, Currency.USD);
 * // returns: 266.67 (ØªÙ‚Ø±ÙŠØ¨Ø§Ù‹)
 */
export async function convertCurrency(
  amount: number,
  fromCurrency: Currency,
  toCurrency: Currency
): Promise<number> {
  try {
    // Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ù†ÙØ³ Ø§Ù„Ø¹Ù…Ù„Ø©
    if (fromCurrency === toCurrency) {
      return amount;
    }

    const response = await fetch('/api/currency/convert', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        amount,
        fromCurrency,
        toCurrency,
      }),
    });

    const data = await response.json();

    if (!data.success) {
      throw new Error(data.message || 'ÙØ´Ù„ Ø§Ù„ØªØ­ÙˆÙŠÙ„');
    }

    return data.convertedAmount;
  } catch (error) {
    console.error('Error converting currency:', error);
    throw error;
  }
}

/**
 * Ø­Ø³Ø§Ø¨ Ø§Ù„Ø³Ø¹Ø± Ø¨Ø¹Ù…Ù„Ø§Øª Ù…ØªØ¹Ø¯Ø¯Ø©
 * 
 * @param baseAmount - Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ
 * @param baseCurrency - Ø§Ù„Ø¹Ù…Ù„Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
 * @param targetCurrencies - Ø§Ù„Ø¹Ù…Ù„Ø§Øª Ø§Ù„Ù…Ø³ØªÙ‡Ø¯ÙØ©
 * @returns Ø§Ù„Ø£Ø³Ø¹Ø§Ø± Ø¨Ø§Ù„Ø¹Ù…Ù„Ø§Øª Ø§Ù„Ù…Ø®ØªÙ„ÙØ©
 * 
 * @example
 * const prices = await getMultiCurrencyPrice(
 *   500000,
 *   Currency.SAR,
 *   [Currency.USD, Currency.EUR, Currency.AED]
 * );
 */
export async function getMultiCurrencyPrice(
  baseAmount: number,
  baseCurrency: Currency = Currency.SAR,
  targetCurrencies: Currency[] = Object.values(Currency)
): Promise<MultiCurrencyPrice> {
  try {
    const response = await fetch('/api/currency/multi-price', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        baseAmount,
        baseCurrency,
        targetCurrencies,
      }),
    });

    const data = await response.json();

    if (!data.success) {
      throw new Error(data.message || 'ÙØ´Ù„ Ø­Ø³Ø§Ø¨ Ø§Ù„Ø£Ø³Ø¹Ø§Ø±');
    }

    return data.multiCurrencyPrice;
  } catch (error) {
    console.error('Error getting multi-currency price:', error);
    throw error;
  }
}

/**
 * ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø³Ø¹Ø± Ø¨Ø§Ù„Ø¹Ù…Ù„Ø©
 * 
 * @param amount - Ø§Ù„Ù…Ø¨Ù„Øº
 * @param currency - Ø§Ù„Ø¹Ù…Ù„Ø©
 * @param locale - Ø§Ù„Ù„ØºØ©
 * @returns Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ù…Ù†Ø³Ù‚
 * 
 * @example
 * formatPrice(500000, Currency.SAR, 'ar-SA')
 * // returns: "Ù¥Ù Ù Ù¬Ù Ù Ù  Ø±.Ø³"
 */
export function formatPrice(
  amount: number,
  currency: Currency,
  locale: string = 'ar-SA'
): string {
  return new Intl.NumberFormat(locale, {
    style: 'currency',
    currency: currency,
    minimumFractionDigits: 0,
    maximumFractionDigits: 2,
  }).format(amount);
}

/**
 * Ø­ÙØ¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¹Ù…Ù„Ø§Øª
 * 
 * @param userId - Ù…Ø¹Ø±Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
 * @param settings - Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
 * @returns Ù†Ø¬Ø§Ø­ Ø§Ù„Ø­ÙØ¸
 */
export async function saveCurrencySettings(
  userId: string,
  settings: CurrencySettings
): Promise<boolean> {
  try {
    const response = await fetch('/api/currency/settings', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        userId,
        settings,
      }),
    });

    const data = await response.json();

    if (!data.success) {
      throw new Error(data.message || 'ÙØ´Ù„ Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª');
    }

    return true;
  } catch (error) {
    console.error('Error saving currency settings:', error);
    throw error;
  }
}

/**
 * Ø¬Ù„Ø¨ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¹Ù…Ù„Ø§Øª
 * 
 * @param userId - Ù…Ø¹Ø±Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
 * @returns Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
 */
export async function getCurrencySettings(
  userId: string
): Promise<CurrencySettings> {
  try {
    const response = await fetch(`/api/currency/settings/${userId}`);
    const data = await response.json();

    if (!data.success) {
      throw new Error(data.message || 'ÙØ´Ù„ Ø¬Ù„Ø¨ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª');
    }

    return data.settings;
  } catch (error) {
    console.error('Error fetching currency settings:', error);
    // Ø¥Ø±Ø¬Ø§Ø¹ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
    return {
      defaultCurrency: Currency.SAR,
      displayCurrencies: [Currency.SAR, Currency.USD, Currency.EUR],
      autoUpdate: true,
      updateInterval: 60,
      roundDecimals: 2,
      showSymbol: true,
      symbolPosition: 'after',
    };
  }
}
```

---

## ğŸ¨ **Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„ÙƒØ§Ù…Ù„Ø© (Components)**

### **1. PlatformPublisher.tsx - Ø§Ù„Ù…ÙƒÙˆÙ† Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ Ù„Ù„Ù†Ø´Ø±**

```typescript
// File: /components/platform/PlatformPublisher.tsx

'use client';

import React, { useState, useEffect } from 'react';
import { Button } from '../ui/button';
import { Badge } from '../ui/badge';
import { 
  Globe, 
  Upload, 
  Check, 
  X, 
  Loader2,
  ChevronDown,
  Settings,
  Calendar,
  Eye,
} from 'lucide-react';
import { toast } from 'sonner@2.0.3';
import {
  Platform,
  PublishStatus,
  OfferPublishData,
  PlatformData,
  PLATFORM_NAMES,
  PLATFORM_LOGOS,
  PLATFORM_COLORS,
  PUBLISH_STATUS_NAMES,
  PUBLISH_STATUS_COLORS,
} from '@/types/platform.types';
import {
  publishToSinglePlatform,
  publishToMultiplePlatforms,
  getPublishStatus,
} from '@/lib/platformAPI';
import { PlatformSelector } from './PlatformSelector';
import { PublishModal } from './PublishModal';
import { PublishStatus as PublishStatusComponent } from './PublishStatus';

/**
 * Props Ø§Ù„Ù…ÙƒÙˆÙ†
 */
interface PlatformPublisherProps {
  /** Ù…Ø¹Ø±Ù Ø§Ù„Ø¹Ø±Ø¶ */
  offerId: string;
  
  /** Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„ÙƒØ§Ù…Ù„Ø© */
  offerData: OfferPublishData;
  
  /** Ø¹Ø±Ø¶ ÙƒØ²Ø± ØµØºÙŠØ± Ø£Ùˆ ÙƒØ¨Ø·Ø§Ù‚Ø© ÙƒØ§Ù…Ù„Ø© */
  variant?: 'button' | 'card';
  
  /** Ø­Ø¬Ù… Ø§Ù„Ø²Ø± */
  size?: 'sm' | 'md' | 'lg';
  
  /** callback Ø¹Ù†Ø¯ Ù†Ø¬Ø§Ø­ Ø§Ù„Ù†Ø´Ø± */
  onPublishSuccess?: (platforms: Platform[]) => void;
  
  /** callback Ø¹Ù†Ø¯ ÙØ´Ù„ Ø§Ù„Ù†Ø´Ø± */
  onPublishError?: (error: Error) => void;
}

/**
 * Ø§Ù„Ù…ÙƒÙˆÙ† Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ Ù„Ù„Ù†Ø´Ø± Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù†ØµØ§Øª
 * 
 * Ø§Ù„Ø£Ø²Ø±Ø§Ø± ÙˆØ§Ù„ÙˆØ¸Ø§Ø¦Ù:
 * - Ø²Ø± "Ù†Ø´Ø± Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù†ØµØ§Øª": ÙØªØ­ modal Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…Ù†ØµØ§Øª
 * - Ø²Ø± "Ø¹Ø±Ø¶ Ø§Ù„Ø­Ø§Ù„Ø©": Ø¹Ø±Ø¶ Ø­Ø§Ù„Ø© Ø§Ù„Ù†Ø´Ø± Ø§Ù„Ø­Ø§Ù„ÙŠØ©
 * - Ø²Ø± "Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª": ÙØªØ­ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù†Ø´Ø±
 * 
 * @example
 * <PlatformPublisher
 *   offerId="offer_123"
 *   offerData={offerData}
 *   variant="button"
 *   size="md"
 *   onPublishSuccess={(platforms) => console.log('Published to:', platforms)}
 * />
 */
export function PlatformPublisher({
  offerId,
  offerData,
  variant = 'button',
  size = 'md',
  onPublishSuccess,
  onPublishError,
}: PlatformPublisherProps) {
  // ====== STATE ======
  
  /** Ø­Ø§Ù„Ø© ÙØªØ­ modal Ø§Ù„Ø§Ø®ØªÙŠØ§Ø± */
  const [showModal, setShowModal] = useState(false);
  
  /** Ø­Ø§Ù„Ø© ÙØªØ­ Ø¹Ø±Ø¶ Ø§Ù„Ø­Ø§Ù„Ø© */
  const [showStatus, setShowStatus] = useState(false);
  
  /** Ø§Ù„Ù…Ù†ØµØ§Øª Ø§Ù„Ù…Ø­Ø¯Ø¯Ø© */
  const [selectedPlatforms, setSelectedPlatforms] = useState<Platform[]>([]);
  
  /** Ø­Ø§Ù„Ø© Ø§Ù„Ù†Ø´Ø± Ø§Ù„Ø­Ø§Ù„ÙŠØ© */
  const [platformsStatus, setPlatformsStatus] = useState<Record<Platform, PlatformData>>({} as any);
  
  /** Ø­Ø§Ù„Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„ */
  const [loading, setLoading] = useState(false);
  
  /** Ø­Ø§Ù„Ø© Ø§Ù„Ù†Ø´Ø± */
  const [publishing, setPublishing] = useState(false);
  
  // ====== EFFECTS ======
  
  /**
   * Ø¬Ù„Ø¨ Ø­Ø§Ù„Ø© Ø§Ù„Ù†Ø´Ø± Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„
   */
  useEffect(() => {
    fetchPublishStatus();
  }, [offerId]);
  
  // ====== HANDLERS ======
  
  /**
   * Ø¬Ù„Ø¨ Ø­Ø§Ù„Ø© Ø§Ù„Ù†Ø´Ø± Ø§Ù„Ø­Ø§Ù„ÙŠØ©
   */
  const fetchPublishStatus = async () => {
    setLoading(true);
    try {
      const status = await getPublishStatus(offerId);
      setPlatformsStatus(status);
    } catch (error) {
      console.error('Error fetching publish status:', error);
    } finally {
      setLoading(false);
    }
  };
  
  /**
   * Ù…Ø¹Ø§Ù„Ø¬ Ø§Ù„Ù†Ø´Ø± Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù†ØµØ§Øª Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©
   */
  const handlePublish = async () => {
    if (selectedPlatforms.length === 0) {
      toast.error('ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ù…Ù†ØµØ© ÙˆØ§Ø­Ø¯Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„');
      return;
    }
    
    setPublishing(true);
    
    try {
      toast.info(`Ø¬Ø§Ø±ÙŠ Ø§Ù„Ù†Ø´Ø± Ø¹Ù„Ù‰ ${selectedPlatforms.length} Ù…Ù†ØµØ©...`);
      
      const results = await publishToMultiplePlatforms(
        offerId,
        selectedPlatforms,
        offerData
      );
      
      // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø­Ø§Ù„Ø©
      setPlatformsStatus((prev) => ({
        ...prev,
        ...results,
      }));
      
      // Ø­Ø³Ø§Ø¨ Ø§Ù„Ù†Ø¬Ø§Ø­ ÙˆØ§Ù„ÙØ´Ù„
      const successCount = Object.values(results).filter(
        (r) => r.status === PublishStatus.PUBLISHED
      ).length;
      const failCount = selectedPlatforms.length - successCount;
      
      if (successCount > 0) {
        toast.success(
          `ØªÙ… Ø§Ù„Ù†Ø´Ø± Ø¨Ù†Ø¬Ø§Ø­ Ø¹Ù„Ù‰ ${successCount} Ù…Ù†ØµØ©${
            failCount > 0 ? ` (${failCount} ÙØ´Ù„)` : ''
          }`
        );
        
        if (onPublishSuccess) {
          onPublishSuccess(selectedPlatforms);
        }
      } else {
        toast.error('ÙØ´Ù„ Ø§Ù„Ù†Ø´Ø± Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù†ØµØ§Øª');
        
        if (onPublishError) {
          onPublishError(new Error('ÙØ´Ù„ Ø§Ù„Ù†Ø´Ø±'));
        }
      }
      
      // Ø¥ØºÙ„Ø§Ù‚ Modal
      setShowModal(false);
      
      // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø§Ø®ØªÙŠØ§Ø±Ø§Øª
      setSelectedPlatforms([]);
      
    } catch (error) {
      console.error('Error publishing:', error);
      toast.error('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ù†Ø´Ø±');
      
      if (onPublishError) {
        onPublishError(error as Error);
      }
    } finally {
      setPublishing(false);
    }
  };
  
  /**
   * Ù…Ø¹Ø§Ù„Ø¬ ÙØªØ­ modal Ø§Ù„Ø§Ø®ØªÙŠØ§Ø±
   */
  const handleOpenModal = () => {
    setShowModal(true);
  };
  
  /**
   * Ù…Ø¹Ø§Ù„Ø¬ Ø¥ØºÙ„Ø§Ù‚ modal Ø§Ù„Ø§Ø®ØªÙŠØ§Ø±
   */
  const handleCloseModal = () => {
    setShowModal(false);
    setSelectedPlatforms([]);
  };
  
  /**
   * Ù…Ø¹Ø§Ù„Ø¬ ÙØªØ­ Ø¹Ø±Ø¶ Ø§Ù„Ø­Ø§Ù„Ø©
   */
  const handleShowStatus = () => {
    setShowStatus(true);
  };
  
  /**
   * Ù…Ø¹Ø§Ù„Ø¬ Ø¥ØºÙ„Ø§Ù‚ Ø¹Ø±Ø¶ Ø§Ù„Ø­Ø§Ù„Ø©
   */
  const handleCloseStatus = () => {
    setShowStatus(false);
  };
  
  // ====== COMPUTED VALUES ======
  
  /** Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ù†ØµØ§Øª Ø§Ù„Ù…Ù†Ø´ÙˆØ±Ø© */
  const publishedCount = Object.values(platformsStatus).filter(
    (p) => p.status === PublishStatus.PUBLISHED
  ).length;
  
  /** Ù‡Ù„ Ø§Ù„Ø¹Ø±Ø¶ Ù…Ù†Ø´ÙˆØ± Ø¹Ù„Ù‰ Ø£ÙŠ Ù…Ù†ØµØ© */
  const isPublished = publishedCount > 0;
  
  // ====== RENDER ======
  
  /**
   * Ø¹Ø±Ø¶ ÙƒØ²Ø±
   */
  if (variant === 'button') {
    return (
      <>
        {/* Ø²Ø± Ø§Ù„Ù†Ø´Ø± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ */}
        <div className="flex items-center gap-2">
          <Button
            onClick={handleOpenModal}
            disabled={loading || publishing}
            size={size}
            className="bg-[#01411C] hover:bg-[#01411C]/90"
          >
            {publishing ? (
              <>
                <Loader2 className="w-4 h-4 ml-2 animate-spin" />
                Ø¬Ø§Ø±ÙŠ Ø§Ù„Ù†Ø´Ø±...
              </>
            ) : (
              <>
                <Globe className="w-4 h-4 ml-2" />
                Ù†Ø´Ø± Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù†ØµØ§Øª
                {isPublished && (
                  <Badge variant="secondary" className="mr-2 bg-green-100 text-green-700">
                    {publishedCount}
                  </Badge>
                )}
              </>
            )}
          </Button>
          
          {/* Ø²Ø± Ø¹Ø±Ø¶ Ø§Ù„Ø­Ø§Ù„Ø© */}
          {isPublished && (
            <Button
              onClick={handleShowStatus}
              variant="outline"
              size={size}
            >
              <Eye className="w-4 h-4 ml-2" />
              Ø¹Ø±Ø¶ Ø§Ù„Ø­Ø§Ù„Ø©
            </Button>
          )}
        </div>
        
        {/* Modal Ø§Ù„Ø§Ø®ØªÙŠØ§Ø± */}
        <PublishModal
          isOpen={showModal}
          onClose={handleCloseModal}
          selectedPlatforms={selectedPlatforms}
          onPlatformsChange={setSelectedPlatforms}
          onPublish={handlePublish}
          publishing={publishing}
          offerData={offerData}
        />
        
        {/* Ø¹Ø±Ø¶ Ø§Ù„Ø­Ø§Ù„Ø© */}
        <PublishStatusComponent
          isOpen={showStatus}
          onClose={handleCloseStatus}
          offerId={offerId}
          platformsStatus={platformsStatus}
          onRefresh={fetchPublishStatus}
        />
      </>
    );
  }
  
  /**
   * Ø¹Ø±Ø¶ ÙƒØ¨Ø·Ø§Ù‚Ø© ÙƒØ§Ù…Ù„Ø©
   */
  return (
    <div className="border border-gray-200 rounded-lg p-6 space-y-4" dir="rtl">
      {/* Ø§Ù„Ø¹Ù†ÙˆØ§Ù† */}
      <div className="flex items-center justify-between">
        <h3 className="text-lg font-bold flex items-center gap-2">
          <Globe className="w-5 h-5 text-[#01411C]" />
          Ø§Ù„Ù†Ø´Ø± Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù†ØµØ§Øª Ø§Ù„Ø¹Ù‚Ø§Ø±ÙŠØ©
        </h3>
        
        {isPublished && (
          <Badge className="bg-green-100 text-green-700">
            Ù…Ù†Ø´ÙˆØ± Ø¹Ù„Ù‰ {publishedCount} Ù…Ù†ØµØ©
          </Badge>
        )}
      </div>
      
      {/* Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù†ØµØ§Øª Ø§Ù„Ù…Ù†Ø´ÙˆØ±Ø© */}
      {isPublished && (
        <div className="grid grid-cols-2 md:grid-cols-3 gap-3">
          {Object.entries(platformsStatus)
            .filter(([_, data]) => data.status === PublishStatus.PUBLISHED)
            .map(([platform, data]) => (
              <div
                key={platform}
                className="flex items-center gap-2 p-3 bg-gray-50 rounded-lg"
              >
                <img
                  src={PLATFORM_LOGOS[platform as Platform]}
                  alt={PLATFORM_NAMES[platform as Platform]}
                  className="w-8 h-8 object-contain"
                />
                <div className="flex-1 min-w-0">
                  <p className="text-sm font-medium truncate">
                    {PLATFORM_NAMES[platform as Platform]}
                  </p>
                  <p className="text-xs text-gray-500">
                    {data.viewCount || 0} Ù…Ø´Ø§Ù‡Ø¯Ø©
                  </p>
                </div>
                <Check className="w-5 h-5 text-green-600 flex-shrink-0" />
              </div>
            ))}
        </div>
      )}
      
      {/* Ø§Ù„Ø£Ø²Ø±Ø§Ø± */}
      <div className="flex gap-3">
        <Button
          onClick={handleOpenModal}
          disabled={loading || publishing}
          className="flex-1 bg-[#01411C] hover:bg-[#01411C]/90"
        >
          {publishing ? (
            <>
              <Loader2 className="w-4 h-4 ml-2 animate-spin" />
              Ø¬Ø§Ø±ÙŠ Ø§Ù„Ù†Ø´Ø±...
            </>
          ) : (
            <>
              <Upload className="w-4 h-4 ml-2" />
              {isPublished ? 'Ù†Ø´Ø± Ø¹Ù„Ù‰ Ù…Ù†ØµØ§Øª Ø¥Ø¶Ø§ÙÙŠØ©' : 'Ù†Ø´Ø± Ø§Ù„Ø¢Ù†'}
            </>
          )}
        </Button>
        
        {isPublished && (
          <Button
            onClick={handleShowStatus}
            variant="outline"
          >
            <Eye className="w-4 h-4 ml-2" />
            Ø§Ù„ØªÙØ§ØµÙŠÙ„
          </Button>
        )}
      </div>
      
      {/* Modals */}
      <PublishModal
        isOpen={showModal}
        onClose={handleCloseModal}
        selectedPlatforms={selectedPlatforms}
        onPlatformsChange={setSelectedPlatforms}
        onPublish={handlePublish}
        publishing={publishing}
        offerData={offerData}
      />
      
      <PublishStatusComponent
        isOpen={showStatus}
        onClose={handleCloseStatus}
        offerId={offerId}
        platformsStatus={platformsStatus}
        onRefresh={fetchPublishStatus}
      />
    </div>
  );
}
```

---

### **2. PlatformSelector.tsx - Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…Ù†ØµØ§Øª**

```typescript
// File: /components/platform/PlatformSelector.tsx

'use client';

import React from 'react';
import { Checkbox } from '../ui/checkbox';
import { Badge } from '../ui/badge';
import { Label } from '../ui/label';
import {
  Platform,
  PLATFORM_NAMES,
  PLATFORM_LOGOS,
  PLATFORM_COLORS,
} from '@/types/platform.types';

/**
 * Props Ø§Ù„Ù…ÙƒÙˆÙ†
 */
interface PlatformSelectorProps {
  /** Ø§Ù„Ù…Ù†ØµØ§Øª Ø§Ù„Ù…Ø­Ø¯Ø¯Ø© */
  selectedPlatforms: Platform[];
  
  /** callback Ø¹Ù†Ø¯ ØªØºÙŠÙŠØ± Ø§Ù„Ø§Ø®ØªÙŠØ§Ø± */
  onChange: (platforms: Platform[]) => void;
  
  /** Ø§Ù„Ù…Ù†ØµØ§Øª Ø§Ù„Ù…Ø¹Ø·Ù„Ø© */
  disabledPlatforms?: Platform[];
  
  /** Ø¹Ø±Ø¶ ÙƒØ´Ø¨ÙƒØ© Ø£Ùˆ Ù‚Ø§Ø¦Ù…Ø© */
  layout?: 'grid' | 'list';
}

/**
 * Ù…ÙƒÙˆÙ† Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…Ù†ØµØ§Øª
 * 
 * Ø§Ù„ÙˆØ¸Ø§Ø¦Ù:
 * - Ø§Ø®ØªÙŠØ§Ø± Ù…Ù†ØµØ© ÙˆØ§Ø­Ø¯Ø© Ø£Ùˆ Ø£ÙƒØ«Ø±
 * - ØªØ­Ø¯ÙŠØ¯ Ø§Ù„ÙƒÙ„ / Ø¥Ù„ØºØ§Ø¡ ØªØ­Ø¯ÙŠØ¯ Ø§Ù„ÙƒÙ„
 * - Ø¹Ø±Ø¶ Ø­Ø§Ù„Ø© ÙƒÙ„ Ù…Ù†ØµØ©
 * 
 * @example
 * <PlatformSelector
 *   selectedPlatforms={selected}
 *   onChange={setSelected}
 *   layout="grid"
 * />
 */
export function PlatformSelector({
  selectedPlatforms,
  onChange,
  disabledPlatforms = [],
  layout = 'grid',
}: PlatformSelectorProps) {
  // ====== HANDLERS ======
  
  /**
   * Ù…Ø¹Ø§Ù„Ø¬ ØªØ­Ø¯ÙŠØ¯/Ø¥Ù„ØºØ§Ø¡ ØªØ­Ø¯ÙŠØ¯ Ù…Ù†ØµØ©
   */
  const handleTogglePlatform = (platform: Platform) => {
    if (disabledPlatforms.includes(platform)) {
      return;
    }
    
    if (selectedPlatforms.includes(platform)) {
      onChange(selectedPlatforms.filter((p) => p !== platform));
    } else {
      onChange([...selectedPlatforms, platform]);
    }
  };
  
  /**
   * Ù…Ø¹Ø§Ù„Ø¬ ØªØ­Ø¯ÙŠØ¯ Ø§Ù„ÙƒÙ„
   */
  const handleSelectAll = () => {
    const availablePlatforms = Object.values(Platform).filter(
      (p) => !disabledPlatforms.includes(p)
    );
    onChange(availablePlatforms);
  };
  
  /**
   * Ù…Ø¹Ø§Ù„Ø¬ Ø¥Ù„ØºØ§Ø¡ ØªØ­Ø¯ÙŠØ¯ Ø§Ù„ÙƒÙ„
   */
  const handleDeselectAll = () => {
    onChange([]);
  };
  
  // ====== COMPUTED VALUES ======
  
  /** Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ù†ØµØ§Øª Ø§Ù„Ù…ØªØ§Ø­Ø© */
  const availableCount = Object.values(Platform).length - disabledPlatforms.length;
  
  /** Ù‡Ù„ ØªÙ… ØªØ­Ø¯ÙŠØ¯ Ø§Ù„ÙƒÙ„ */
  const allSelected = selectedPlatforms.length === availableCount;
  
  // ====== RENDER ======
  
  return (
    <div className="space-y-4" dir="rtl">
      {/* Ø¹Ù†ÙˆØ§Ù† Ù…Ø¹ Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­Ø¯ÙŠØ¯ */}
      <div className="flex items-center justify-between">
        <h4 className="font-medium text-gray-900">
          Ø§Ø®ØªØ± Ø§Ù„Ù…Ù†ØµØ§Øª ({selectedPlatforms.length}/{availableCount})
        </h4>
        
        <div className="flex gap-2">
          {!allSelected && (
            <button
              onClick={handleSelectAll}
              className="text-sm text-[#01411C] hover:underline"
            >
              ØªØ­Ø¯ÙŠØ¯ Ø§Ù„ÙƒÙ„
            </button>
          )}
          
          {selectedPlatforms.length > 0 && (
            <button
              onClick={handleDeselectAll}
              className="text-sm text-gray-600 hover:underline"
            >
              Ø¥Ù„ØºØ§Ø¡ Ø§Ù„ÙƒÙ„
            </button>
          )}
        </div>
      </div>
      
      {/* Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù†ØµØ§Øª */}
      <div
        className={
          layout === 'grid'
            ? 'grid grid-cols-1 md:grid-cols-2 gap-3'
            : 'space-y-2'
        }
      >
        {Object.values(Platform).map((platform) => {
          const isSelected = selectedPlatforms.includes(platform);
          const isDisabled = disabledPlatforms.includes(platform);
          
          return (
            <div
              key={platform}
              onClick={() => handleTogglePlatform(platform)}
              className={`
                flex items-center gap-3 p-4 border-2 rounded-lg cursor-pointer
                transition-all duration-200
                ${
                  isSelected
                    ? 'border-[#01411C] bg-green-50'
                    : 'border-gray-200 hover:border-gray-300'
                }
                ${isDisabled ? 'opacity-50 cursor-not-allowed' : ''}
              `}
            >
              {/* Checkbox */}
              <Checkbox
                checked={isSelected}
                disabled={isDisabled}
                onCheckedChange={() => handleTogglePlatform(platform)}
              />
              
              {/* Ø´Ø¹Ø§Ø± Ø§Ù„Ù…Ù†ØµØ© */}
              <img
                src={PLATFORM_LOGOS[platform]}
                alt={PLATFORM_NAMES[platform]}
                className="w-10 h-10 object-contain"
              />
              
              {/* Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ù†ØµØ© */}
              <div className="flex-1">
                <Label className="cursor-pointer">
                  {PLATFORM_NAMES[platform]}
                </Label>
                
                {isDisabled && (
                  <p className="text-xs text-gray-500 mt-1">
                    Ù…Ù†Ø´ÙˆØ± Ø¨Ø§Ù„ÙØ¹Ù„
                  </p>
                )}
              </div>
              
              {/* Badge Ù„Ù„Ù…Ù†ØµØ© */}
              <div
                className="w-3 h-3 rounded-full"
                style={{ backgroundColor: PLATFORM_COLORS[platform] }}
              />
            </div>
          );
        })}
      </div>
      
      {/* Ù…Ù„Ø§Ø­Ø¸Ø© */}
      <div className="p-3 bg-blue-50 border border-blue-200 rounded-lg">
        <p className="text-sm text-blue-800">
          ğŸ’¡ <span className="font-bold">Ù†ØµÙŠØ­Ø©:</span> ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ù†Ø´Ø± Ø¹Ù„Ù‰ Ø¹Ø¯Ø© Ù…Ù†ØµØ§Øª Ø¯ÙØ¹Ø©
          ÙˆØ§Ø­Ø¯Ø© Ù„Ø²ÙŠØ§Ø¯Ø© ÙØ±Øµ Ø§Ù„ÙˆØµÙˆÙ„
        </p>
      </div>
    </div>
  );
}
```

---

Ø³Ø£ÙƒÙ…Ù„ Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª ÙÙŠ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªØ§Ù„ÙŠØ©...