# ğŸ“Š **ØªÙ‚Ø±ÙŠØ± ØªÙØµÙŠÙ„ÙŠ Ø´Ø§Ù…Ù„: Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø°ÙƒÙŠ (AI Assistant)**

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                               â•‘
â•‘          ğŸ¤– Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø°ÙƒÙŠ - Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø§Ù„ÙƒØ§Ù…Ù„ ğŸ¤–              â•‘
â•‘                                                               â•‘
â•‘  ÙƒÙ„ Ø´ÙŠØ¡ Ø¨Ø§Ù„ØªÙØµÙŠÙ„: Ø§Ù„Ù…Ø³Ø§Ø±Ø§ØªØŒ Ø§Ù„Ø¯ÙˆØ§Ù„ØŒ Ø§Ù„Ø§Ø³ØªØ¯Ø¹Ø§Ø¡Ø§ØªØŒ            â•‘
â•‘  Ø§Ù„Ø±Ø¨Ø·ØŒ Ø§Ù„ØªØ¹Ø§Ø±ÙŠÙØŒ Ø§Ù„Ø£Ø²Ø±Ø§Ø±ØŒ Ø§Ù„Ø­Ù‚ÙˆÙ„ØŒ Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¹Ù…Ù„              â•‘
â•‘                                                               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## ğŸ“‹ **Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø­ØªÙˆÙŠØ§Øª**

1. [Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©](#1-Ù†Ø¸Ø±Ø©-Ø¹Ø§Ù…Ø©)
2. [Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª ÙˆØ§Ù„Ù…Ù„ÙØ§Øª](#2-Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª-ÙˆØ§Ù„Ù…Ù„ÙØ§Øª)
3. [Ø§Ù„ØªØ¹Ø§Ø±ÙŠÙ ÙˆØ§Ù„Ø£Ù†ÙˆØ§Ø¹](#3-Ø§Ù„ØªØ¹Ø§Ø±ÙŠÙ-ÙˆØ§Ù„Ø£Ù†ÙˆØ§Ø¹)
4. [Ø§Ù„Ø§Ø³ØªÙŠØ±Ø§Ø¯Ø§Øª](#4-Ø§Ù„Ø§Ø³ØªÙŠØ±Ø§Ø¯Ø§Øª)
5. [State Management](#5-state-management)
6. [Ø§Ù„Ø¯ÙˆØ§Ù„ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©](#6-Ø§Ù„Ø¯ÙˆØ§Ù„-Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©)
7. [Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ù„ØºØ© Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠØ©](#7-Ù…Ø¹Ø§Ù„Ø¬Ø©-Ø§Ù„Ù„ØºØ©-Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠØ©)
8. [Ø§Ø³ØªØ¯Ø¹Ø§Ø¡Ø§Øª AI](#8-Ø§Ø³ØªØ¯Ø¹Ø§Ø¡Ø§Øª-ai)
9. [Ø§Ù„Ø±Ø¨Ø· Ù…Ø¹ Ø§Ù„Ø£Ù†Ø¸Ù…Ø©](#9-Ø§Ù„Ø±Ø¨Ø·-Ù…Ø¹-Ø§Ù„Ø£Ù†Ø¸Ù…Ø©)
10. [ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…](#10-ÙˆØ§Ø¬Ù‡Ø©-Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…)
11. [Ø§Ù„Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ù…Ø¯Ø¹ÙˆÙ…Ø©](#11-Ø§Ù„Ø£ÙˆØ§Ù…Ø±-Ø§Ù„Ù…Ø¯Ø¹ÙˆÙ…Ø©)
12. [Ø³ÙŠØ± Ø§Ù„Ø¹Ù…Ù„](#12-Ø³ÙŠØ±-Ø§Ù„Ø¹Ù…Ù„)

---

## 1ï¸âƒ£ **Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©**

### **Ø§Ù„ØºØ±Ø¶ Ù…Ù† Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø°ÙƒÙŠ:**
Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø°ÙƒÙŠ (AI Assistant) Ù‡Ùˆ Ù†Ø¸Ø§Ù… Ø°ÙƒÙŠ Ù…ØªÙ‚Ø¯Ù… ÙŠÙ‚ÙˆÙ… Ø¨Ù€:
- ÙÙ‡Ù… Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¨Ø§Ù„Ù„ØºØ© Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠØ© (Ø¹Ø±Ø¨ÙŠ/Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ)
- ØªÙ†ÙÙŠØ° Ø§Ù„Ù…Ù‡Ø§Ù… ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ (Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ø±ÙˆØ¶ØŒ Ø¬Ø¯ÙˆÙ„Ø© Ù…ÙˆØ§Ø¹ÙŠØ¯ØŒ Ø§Ù„Ø¨Ø­Ø«)
- ØªÙ‚Ø¯ÙŠÙ… Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ø°ÙƒÙŠØ©
- Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©
- ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØªÙ‚Ø¯ÙŠÙ… Ø±Ø¤Ù‰
- Ø§Ù„ØªØ¹Ù„Ù… Ù…Ù† Ø³Ù„ÙˆÙƒ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…

### **Ø§Ù„Ù…ÙˆÙ‚Ø¹ ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù…:**
- **Ø§Ù„Ù…ÙƒÙˆÙ† Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ:** `AI_BubbleAssistant.tsx`
- **Ø§Ù„Ù…ÙƒÙˆÙ† Ø§Ù„ÙØ±Ø¹ÙŠ:** `AI_ConsciousAssistantCore.ts`
- **Hook:** `useSmartAssistantEnhanced.ts`
- **API:** `ai/generate-description.ts`
- **Ø§Ù„Ù†ÙˆØ¹:** Ù†Ø¸Ø§Ù… Ø¹Ø§Ù… (Global System)
- **Ø§Ù„ÙˆØµÙˆÙ„:** Ù…ØªØ§Ø­ ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„ØµÙØ­Ø§Øª

---

## 2ï¸âƒ£ **Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª ÙˆØ§Ù„Ù…Ù„ÙØ§Øª**

### **Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª Ø§Ù„ÙØ¹Ù„ÙŠØ©:**

```
ğŸ“ Project Root
â”‚
â”œâ”€â”€ ğŸ“ components/
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“„ AI_BubbleAssistant.tsx
â”‚   â”‚   Ø§Ù„Ù…Ø³Ø§Ø±: /components/AI_BubbleAssistant.tsx
â”‚   â”‚   Ø§Ù„Ø¯ÙˆØ±: ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø°ÙƒÙŠ (Bubble UI)
â”‚   â”‚   Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª:
â”‚   â”‚     - FloatingButton (Ø²Ø± Ø¹Ø§Ø¦Ù…)
â”‚   â”‚     - ChatBubble (ÙÙ‚Ø§Ø¹Ø© Ø§Ù„Ø¯Ø±Ø¯Ø´Ø©)
â”‚   â”‚     - MessageList (Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±Ø³Ø§Ø¦Ù„)
â”‚   â”‚     - InputArea (Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„)
â”‚   â”‚     - SuggestionChips (Ø´Ø±Ø§Ø¦Ø­ Ø§Ù„Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª)
â”‚   â”‚     - VoiceInput (Ø¥Ø¯Ø®Ø§Ù„ ØµÙˆØªÙŠ)
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“„ VoiceCommandsPanel.tsx
â”‚   â”‚   Ø§Ù„Ù…Ø³Ø§Ø±: /components/VoiceCommandsPanel.tsx
â”‚   â”‚   Ø§Ù„Ø¯ÙˆØ±: Ù„ÙˆØ­Ø© Ø§Ù„Ø£ÙˆØ§Ù…Ø± Ø§Ù„ØµÙˆØªÙŠØ©
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“„ AIDescriptionGenerator.tsx
â”‚       Ø§Ù„Ù…Ø³Ø§Ø±: /components/AIDescriptionGenerator.tsx
â”‚       Ø§Ù„Ø¯ÙˆØ±: Ù…ÙˆÙ„Ø¯ Ø§Ù„ÙˆØµÙ Ø§Ù„Ø°ÙƒÙŠ Ù„Ù„Ø¹Ù‚Ø§Ø±Ø§Øª
â”‚
â”œâ”€â”€ ğŸ“ core/ai-cores/
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“„ AI_ConsciousAssistantCore.ts
â”‚   â”‚   Ø§Ù„Ù…Ø³Ø§Ø±: /core/ai-cores/AI_ConsciousAssistantCore.ts
â”‚   â”‚   Ø§Ù„Ø¯ÙˆØ±: Ø§Ù„Ù‚Ù„Ø¨ Ø§Ù„ÙˆØ§Ø¹ÙŠ Ù„Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø°ÙƒÙŠ
â”‚   â”‚   Ø§Ù„ÙˆØ¸Ø§Ø¦Ù:
â”‚   â”‚     - processIntent() - Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ù†ÙŠØ©
â”‚   â”‚     - executeAction() - ØªÙ†ÙÙŠØ° Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡
â”‚   â”‚     - generateResponse() - ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø±Ø¯
â”‚   â”‚     - learnFromInteraction() - Ø§Ù„ØªØ¹Ù„Ù…
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“„ AI_AwarenessTracker.ts
â”‚   â”‚   Ø§Ù„Ù…Ø³Ø§Ø±: /core/ai-cores/AI_AwarenessTracker.ts
â”‚   â”‚   Ø§Ù„Ø¯ÙˆØ±: ØªØªØ¨Ø¹ Ø³ÙŠØ§Ù‚ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø© ÙˆØ§Ù„ÙˆØ¹ÙŠ
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“„ AI_DataPulseCore.ts
â”‚   â”‚   Ø§Ù„Ù…Ø³Ø§Ø±: /core/ai-cores/AI_DataPulseCore.ts
â”‚   â”‚   Ø§Ù„Ø¯ÙˆØ±: Ù†Ø¨Ø¶ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª - ØªØ­Ø¯ÙŠØ«Ø§Øª ÙÙˆØ±ÙŠØ©
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“„ DecisionCore.ts
â”‚   â”‚   Ø§Ù„Ù…Ø³Ø§Ø±: /core/ai-cores/DecisionCore.ts
â”‚   â”‚   Ø§Ù„Ø¯ÙˆØ±: Ù…Ø­Ø±Ùƒ Ø§ØªØ®Ø§Ø° Ø§Ù„Ù‚Ø±Ø§Ø±
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“„ DecisionCoreEnhanced.ts
â”‚   â”‚   Ø§Ù„Ù…Ø³Ø§Ø±: /core/ai-cores/DecisionCoreEnhanced.ts
â”‚   â”‚   Ø§Ù„Ø¯ÙˆØ±: Ù…Ø­Ø±Ùƒ Ù‚Ø±Ø§Ø± Ù…Ø­Ø³Ù‘Ù†
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“„ AI_ShortTermMemory.ts
â”‚       Ø§Ù„Ù…Ø³Ø§Ø±: /core/ai-cores/AI_ShortTermMemory.ts
â”‚       Ø§Ù„Ø¯ÙˆØ±: Ø§Ù„Ø°Ø§ÙƒØ±Ø© Ù‚ØµÙŠØ±Ø© Ø§Ù„Ù…Ø¯Ù‰
â”‚
â”œâ”€â”€ ğŸ“ core/utils/
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“„ aiTools.ts
â”‚       Ø§Ù„Ù…Ø³Ø§Ø±: /core/utils/aiTools.ts
â”‚       Ø§Ù„Ø¯ÙˆØ±: Ø£Ø¯ÙˆØ§Øª Ù…Ø³Ø§Ø¹Ø¯Ø© Ù„Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ
â”‚
â”œâ”€â”€ ğŸ“ hooks/
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“„ useSmartAssistantEnhanced.ts
â”‚   â”‚   Ø§Ù„Ù…Ø³Ø§Ø±: /hooks/useSmartAssistantEnhanced.ts
â”‚   â”‚   Ø§Ù„Ø¯ÙˆØ±: Hook Ø±Ø¦ÙŠØ³ÙŠ Ù„Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø°ÙƒÙŠ
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“„ useVoiceCommands.ts
â”‚   â”‚   Ø§Ù„Ù…Ø³Ø§Ø±: /hooks/useVoiceCommands.ts
â”‚   â”‚   Ø§Ù„Ø¯ÙˆØ±: Hook Ø§Ù„Ø£ÙˆØ§Ù…Ø± Ø§Ù„ØµÙˆØªÙŠØ©
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“„ useAIActions.ts
â”‚   â”‚   Ø§Ù„Ù…Ø³Ø§Ø±: /hooks/useAIActions.ts
â”‚   â”‚   Ø§Ù„Ø¯ÙˆØ±: Hook Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“„ useDynamicIntents.ts
â”‚   â”‚   Ø§Ù„Ù…Ø³Ø§Ø±: /hooks/useDynamicIntents.ts
â”‚   â”‚   Ø§Ù„Ø¯ÙˆØ±: Hook Ø§Ù„Ù†ÙŠØ§Øª Ø§Ù„Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ©
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“„ useAwareness.ts
â”‚       Ø§Ù„Ù…Ø³Ø§Ø±: /hooks/useAwareness.ts
â”‚       Ø§Ù„Ø¯ÙˆØ±: Hook Ø§Ù„ÙˆØ¹ÙŠ Ø¨Ø§Ù„Ø³ÙŠØ§Ù‚
â”‚
â”œâ”€â”€ ğŸ“ api/
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“„ ai/generate-description.ts
â”‚   â”‚   Ø§Ù„Ù…Ø³Ø§Ø±: /api/ai/generate-description.ts
â”‚   â”‚   Ø§Ù„Ø¯ÙˆØ±: API ØªÙˆÙ„ÙŠØ¯ Ø§Ù„ÙˆØµÙ
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“ kernel/
â”‚       â”œâ”€â”€ ğŸ“„ query.ts
â”‚       â”‚   Ø§Ù„Ù…Ø³Ø§Ø±: /api/kernel/query.ts
â”‚       â”‚   Ø§Ù„Ø¯ÙˆØ±: Ø§Ø³ØªØ¹Ù„Ø§Ù…Ø§Øª Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ
â”‚       â”‚
â”‚       â”œâ”€â”€ ğŸ“„ processAIIntent.ts
â”‚       â”‚   Ø§Ù„Ù…Ø³Ø§Ø±: /api/kernel/processAIIntent.ts
â”‚       â”‚   Ø§Ù„Ø¯ÙˆØ±: Ù…Ø¹Ø§Ù„Ø¬Ø© Ù†ÙŠØ© Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ
â”‚       â”‚
â”‚       â””â”€â”€ ğŸ“„ query-real.ts
â”‚           Ø§Ù„Ù…Ø³Ø§Ø±: /api/kernel/query-real.ts
â”‚           Ø§Ù„Ø¯ÙˆØ±: Ø§Ø³ØªØ¹Ù„Ø§Ù…Ø§Øª Ø­Ù‚ÙŠÙ‚ÙŠØ© (Ù…Ø¹ OpenAI)
â”‚
â””â”€â”€ ğŸ“ types/
    â”‚
    â””â”€â”€ ğŸ“„ ai-assistant.ts
        Ø§Ù„Ù…Ø³Ø§Ø±: /types/ai-assistant.ts
        Ø§Ù„Ø¯ÙˆØ±: ØªØ¹Ø§Ø±ÙŠÙ TypeScript Ù„Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø°ÙƒÙŠ
```

---

## 3ï¸âƒ£ **Ø§Ù„ØªØ¹Ø§Ø±ÙŠÙ ÙˆØ§Ù„Ø£Ù†ÙˆØ§Ø¹**

### **Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø°ÙƒÙŠ:**

```typescript
// ==========================================
// FILE: types/ai-assistant.ts
// ==========================================

/**
 * Ù†ÙˆØ¹ Ø§Ù„Ø±Ø³Ø§Ù„Ø© ÙÙŠ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©
 */
export type MessageRole = 
  | 'user'        // Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
  | 'assistant'   // Ø±Ø¯ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯
  | 'system';     // Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù†Ø¸Ø§Ù…

/**
 * Ù†ÙˆØ¹ Ø§Ù„Ù†ÙŠØ© Ø§Ù„Ù…Ø³ØªØ®Ø±Ø¬Ø© Ù…Ù† Ø§Ù„Ø±Ø³Ø§Ù„Ø©
 */
export type IntentType =
  // Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø±ÙˆØ¶
  | 'create_offer'        // Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ø±Ø¶
  | 'edit_offer'          // ØªØ¹Ø¯ÙŠÙ„ Ø¹Ø±Ø¶
  | 'delete_offer'        // Ø­Ø°Ù Ø¹Ø±Ø¶
  | 'search_offers'       // Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø¹Ø±ÙˆØ¶
  | 'publish_offer'       // Ù†Ø´Ø± Ø¹Ø±Ø¶
  
  // Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª
  | 'create_request'      // Ø¥Ù†Ø´Ø§Ø¡ Ø·Ù„Ø¨
  | 'search_requests'     // Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø·Ù„Ø¨Ø§Øª
  
  // Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…ÙˆØ§Ø¹ÙŠØ¯
  | 'schedule_appointment' // Ø¬Ø¯ÙˆÙ„Ø© Ù…ÙˆØ¹Ø¯
  | 'view_calendar'       // Ø¹Ø±Ø¶ Ø§Ù„ØªÙ‚ÙˆÙŠÙ…
  | 'cancel_appointment'  // Ø¥Ù„ØºØ§Ø¡ Ù…ÙˆØ¹Ø¯
  
  // Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡
  | 'add_customer'        // Ø¥Ø¶Ø§ÙØ© Ø¹Ù…ÙŠÙ„
  | 'search_customers'    // Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø¹Ù…Ù„Ø§Ø¡
  | 'call_customer'       // Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø¹Ù…ÙŠÙ„
  
  // Ø§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª ÙˆØ§Ù„ØªÙ‚Ø§Ø±ÙŠØ±
  | 'get_statistics'      // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
  | 'generate_report'     // ØªÙˆÙ„ÙŠØ¯ ØªÙ‚Ø±ÙŠØ±
  | 'analyze_data'        // ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
  
  // Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¹Ø§Ù…Ø©
  | 'get_info'            // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª
  | 'help'                // Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©
  | 'greeting'            // ØªØ­ÙŠØ©
  
  // Ø£Ø®Ø±Ù‰
  | 'navigate'            // Ø§Ù„ØªÙ†Ù‚Ù„
  | 'settings'            // Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
  | 'unknown';            // ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ

/**
 * Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø«Ù‚Ø© ÙÙŠ Ø§Ù„Ù†ÙŠØ©
 */
export type ConfidenceLevel = 
  | 'high'      // Ø«Ù‚Ø© Ø¹Ø§Ù„ÙŠØ© (> 0.8)
  | 'medium'    // Ø«Ù‚Ø© Ù…ØªÙˆØ³Ø·Ø© (0.5 - 0.8)
  | 'low';      // Ø«Ù‚Ø© Ù…Ù†Ø®ÙØ¶Ø© (< 0.5)

/**
 * Ø­Ø§Ù„Ø© Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø±Ø³Ø§Ù„Ø©
 */
export type MessageStatus =
  | 'pending'     // Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±
  | 'processing'  // Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©
  | 'completed'   // Ù…ÙƒØªÙ…Ù„Ø©
  | 'error';      // Ø®Ø·Ø£

/**
 * ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø±Ø³Ø§Ù„Ø©
 */
export interface ChatMessage {
  // Ø§Ù„Ù…Ø¹Ø±Ù Ø§Ù„ÙØ±ÙŠØ¯
  id: string;
  
  // Ø§Ù„Ø¯ÙˆØ± (user/assistant/system)
  role: MessageRole;
  
  // Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø³Ø§Ù„Ø©
  content: string;
  
  // Ø§Ù„ØªÙˆÙ‚ÙŠØª
  timestamp: Date;
  
  // Ø§Ù„Ø­Ø§Ù„Ø©
  status: MessageStatus;
  
  // Ø§Ù„Ù†ÙŠØ© Ø§Ù„Ù…Ø³ØªØ®Ø±Ø¬Ø© (Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ù…Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…)
  intent?: IntentType;
  
  // Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø«Ù‚Ø© ÙÙŠ Ø§Ù„Ù†ÙŠØ©
  confidence?: number;
  
  // Ø§Ù„ÙƒÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø±Ø¬Ø©
  entities?: Record<string, any>;
  
  // Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡ Ø§Ù„Ù…Ù†ÙØ°
  action?: {
    type: string;
    result: any;
    success: boolean;
    error?: string;
  };
  
  // Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙˆØµÙÙŠØ©
  metadata?: {
    duration?: number;        // Ù…Ø¯Ø© Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© (ms)
    model?: string;           // Ù†Ù…ÙˆØ°Ø¬ AI Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
    tokens?: number;          // Ø¹Ø¯Ø¯ Tokens
    context?: string[];       // Ø§Ù„Ø³ÙŠØ§Ù‚ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
  };
}

/**
 * ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù†ÙŠØ© Ø§Ù„Ù…Ø³ØªØ®Ø±Ø¬Ø©
 */
export interface ExtractedIntent {
  // Ù†ÙˆØ¹ Ø§Ù„Ù†ÙŠØ©
  type: IntentType;
  
  // Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø«Ù‚Ø© (0-1)
  confidence: number;
  
  // Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø«Ù‚Ø© (high/medium/low)
  confidenceLevel: ConfidenceLevel;
  
  // Ø§Ù„ÙƒÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø±Ø¬Ø©
  entities: {
    // Ù†ÙˆØ¹ Ø§Ù„Ø¹Ù‚Ø§Ø±
    propertyType?: string;
    
    // Ø§Ù„Ø³Ø¹Ø±
    price?: number | { min: number; max: number };
    
    // Ø§Ù„Ù…ÙˆÙ‚Ø¹
    location?: {
      city?: string;
      district?: string;
    };
    
    // Ø§Ù„ØªØ§Ø±ÙŠØ®
    date?: Date;
    
    // Ø§Ù„ÙˆÙ‚Øª
    time?: string;
    
    // Ø§Ø³Ù… Ø§Ù„Ø´Ø®Øµ
    personName?: string;
    
    // Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ
    phone?: string;
    
    // Ø£ÙŠ Ø¨ÙŠØ§Ù†Ø§Øª Ø£Ø®Ø±Ù‰
    [key: string]: any;
  };
  
  // Ø§Ù„Ø³ÙŠØ§Ù‚ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨
  requiredContext?: string[];
  
  // Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø§Ù„Ù…Ù‚ØªØ±Ø­Ø©
  suggestedActions?: Array<{
    label: string;
    action: string;
    parameters?: any;
  }>;
}

/**
 * ÙˆØ§Ø¬Ù‡Ø© Ø³ÙŠØ§Ù‚ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©
 */
export interface ConversationContext {
  // Ù…Ø¹Ø±Ù Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©
  conversationId: string;
  
  // Ù…Ø¹Ø±Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
  userId: string;
  
  // ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø© (Ø¢Ø®Ø± N Ø±Ø³Ø§Ù„Ø©)
  history: ChatMessage[];
  
  // Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©
  currentPage?: string;
  
  // Ø§Ù„Ø¹Ù†ØµØ± Ø§Ù„Ù…Ø­Ø¯Ø¯ Ø­Ø§Ù„ÙŠØ§Ù‹
  currentEntity?: {
    type: string;
    id: string;
    data: any;
  };
  
  // Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ù…Ø¤Ù‚ØªØ©
  tempVariables: Record<string, any>;
  
  // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
  userData: {
    name: string;
    role: string;
    preferences: Record<string, any>;
  };
}

/**
 * ÙˆØ§Ø¬Ù‡Ø© Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯
 */
export interface AssistantSettings {
  // Ù‡Ù„ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ù…ÙØ¹Ù„ØŸ
  enabled: boolean;
  
  // Ø§Ù„Ù„ØºØ©
  language: 'ar' | 'en';
  
  // Ù†Ù…ÙˆØ°Ø¬ AI
  model: 'gpt-4' | 'gpt-3.5-turbo' | 'claude';
  
  // Ø§Ù„ØµÙˆØª
  voice: {
    enabled: boolean;
    language: string;
    rate: number;        // Ø³Ø±Ø¹Ø© Ø§Ù„ÙƒÙ„Ø§Ù…
    pitch: number;       // Ø·Ø¨Ù‚Ø© Ø§Ù„ØµÙˆØª
  };
  
  // Ø§Ù„Ø£ÙˆØ§Ù…Ø± Ø§Ù„ØµÙˆØªÙŠØ©
  voiceCommands: {
    enabled: boolean;
    wakeWord: string;    // ÙƒÙ„Ù…Ø© Ø§Ù„Ø¥ÙŠÙ‚Ø§Ø¸
    continuous: boolean; // Ø§Ø³ØªÙ…Ø§Ø¹ Ù…Ø³ØªÙ…Ø±
  };
  
  // Ø§Ù„Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª
  suggestions: {
    enabled: boolean;
    showOnStart: boolean;
  };
  
  // Ø§Ù„ØªØ¹Ù„Ù…
  learning: {
    enabled: boolean;
    saveHistory: boolean;
  };
}

/**
 * ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø§Ù‚ØªØ±Ø§Ø­
 */
export interface Suggestion {
  // Ø§Ù„Ù…Ø¹Ø±Ù
  id: string;
  
  // Ø§Ù„Ù†Øµ Ø§Ù„Ù…Ø¹Ø±ÙˆØ¶
  label: string;
  
  // Ø§Ù„Ù†Øµ Ø§Ù„ÙƒØ§Ù…Ù„
  fullText: string;
  
  // Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø©
  icon?: string;
  
  // Ø§Ù„ÙØ¦Ø©
  category: string;
  
  // Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ©
  priority: number;
  
  // Ø§Ù„Ø³ÙŠØ§Ù‚ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨
  context?: string[];
}

/**
 * ÙˆØ§Ø¬Ù‡Ø© Ù†ØªÙŠØ¬Ø© Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡
 */
export interface ActionResult {
  // Ù‡Ù„ Ù†Ø¬Ø­ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡ØŸ
  success: boolean;
  
  // Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù†Ø§ØªØ¬Ø©
  data?: any;
  
  // Ø±Ø³Ø§Ù„Ø© Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…
  message: string;
  
  // Ø§Ù„Ø®Ø·Ø£ Ø¥Ù† ÙˆØ¬Ø¯
  error?: string;
  
  // Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ù„Ù„Ù…ØªØ§Ø¨Ø¹Ø©
  followUpActions?: Array<{
    label: string;
    action: string;
  }>;
}

/**
 * ÙˆØ§Ø¬Ù‡Ø© Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯
 */
export interface AssistantStats {
  // Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø§Øª
  totalConversations: number;
  
  // Ø¹Ø¯Ø¯ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„
  totalMessages: number;
  
  // Ù…Ø¹Ø¯Ù„ Ø§Ù„Ù†Ø¬Ø§Ø­
  successRate: number;
  
  // Ù…ØªÙˆØ³Ø· ÙˆÙ‚Øª Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø© (ms)
  averageResponseTime: number;
  
  // Ø£ÙƒØ«Ø± Ø§Ù„Ù†ÙŠØ§Øª Ø§Ø³ØªØ®Ø¯Ø§Ù…Ø§Ù‹
  topIntents: Array<{
    intent: IntentType;
    count: number;
    percentage: number;
  }>;
  
  // ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
  userRating?: {
    average: number;
    total: number;
  };
}
```

---

## 4ï¸âƒ£ **Ø§Ù„Ø§Ø³ØªÙŠØ±Ø§Ø¯Ø§Øª**

### **Ø§Ø³ØªÙŠØ±Ø§Ø¯Ø§Øª Ø§Ù„Ù…ÙƒÙˆÙ† Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ:**

```typescript
// ==========================================
// FILE: components/AI_BubbleAssistant.tsx
// ==========================================

// React Core
import React, { 
  useState, 
  useEffect, 
  useRef, 
  useCallback,
  useMemo 
} from 'react';

// UI Components (shadcn/ui)
import { Button } from './ui/button';
import { Input } from './ui/input';
import { Textarea } from './ui/textarea';
import { ScrollArea } from './ui/scroll-area';
import { Badge } from './ui/badge';
import { Card, CardContent } from './ui/card';
import {
  Popover,
  PopoverContent,
  PopoverTrigger,
} from './ui/popover';
import {
  Dialog,
  DialogContent,
  DialogHeader,
  DialogTitle,
} from './ui/dialog';
import { Separator } from './ui/separator';
import { Progress } from './ui/progress';

// Icons (lucide-react)
import {
  MessageCircle,     // Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø§Ù„Ø±Ø³Ø§Ø¦Ù„
  Send,              // Ø¥Ø±Ø³Ø§Ù„
  Mic,               // Ù…ÙŠÙƒØ±ÙˆÙÙˆÙ†
  MicOff,            // Ù…ÙŠÙƒØ±ÙˆÙÙˆÙ† Ù…Ø·ÙØ£
  Volume2,           // ØµÙˆØª
  VolumeX,           // ØµÙˆØª Ù…Ø·ÙØ£
  Settings,          // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
  X,                 // Ø¥ØºÙ„Ø§Ù‚
  Minimize2,         // ØªØµØºÙŠØ±
  Maximize2,         // ØªÙƒØ¨ÙŠØ±
  RotateCcw,         // Ø¥Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„
  Trash2,            // Ø­Ø°Ù
  Copy,              // Ù†Ø³Ø®
  CheckCircle,       // Ø¯Ø§Ø¦Ø±Ø© Ù…Ø¹ ØµØ­
  AlertCircle,       // Ø¯Ø§Ø¦Ø±Ø© Ù…Ø¹ ØªÙ†Ø¨ÙŠÙ‡
  Loader2,           // Ù…Ø­Ù…Ù„
  Sparkles,          // Ø´Ø±Ø§Ø±Ø§Øª (AI)
  Zap,               // ØµØ§Ø¹Ù‚Ø©
  Brain,             // Ø¯Ù…Ø§Øº
  Eye,               // Ø¹ÙŠÙ†
  ThumbsUp,          // Ø¥Ø¹Ø¬Ø§Ø¨
  ThumbsDown         // Ø¹Ø¯Ù… Ø¥Ø¹Ø¬Ø§Ø¨
} from 'lucide-react';

// Motion (animation)
import { motion, AnimatePresence } from 'motion/react';

// Toast
import { toast } from 'sonner';

// Custom Hooks
import { useSmartAssistantEnhanced } from '../hooks/useSmartAssistantEnhanced';
import { useVoiceCommands } from '../hooks/useVoiceCommands';
import { useAuth } from '../hooks/useAuth';

// AI Core
import { AI_ConsciousAssistantCore } from '../core/ai-cores/AI_ConsciousAssistantCore';
import { AI_AwarenessTracker } from '../core/ai-cores/AI_AwarenessTracker';

// Types
import type {
  ChatMessage,
  IntentType,
  ExtractedIntent,
  ConversationContext,
  AssistantSettings,
  Suggestion,
  ActionResult
} from '../types/ai-assistant';

// Utils
import { cn } from '../lib/utils';
import { formatDistanceToNow } from 'date-fns';
import { ar } from 'date-fns/locale';
```

---

## 5ï¸âƒ£ **State Management**

### **State Ø§Ù„Ù…ÙƒÙˆÙ† Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ:**

```typescript
// ==========================================
// State ÙÙŠ AI_BubbleAssistant
// ==========================================

export function AI_BubbleAssistant() {
  // ===== 1. Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø© =====
  
  /**
   * Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±Ø³Ø§Ø¦Ù„
   */
  const [messages, setMessages] = useState<ChatMessage[]>([]);
  
  /**
   * Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ© (Ù‚ÙŠØ¯ Ø§Ù„ÙƒØªØ§Ø¨Ø©)
   */
  const [currentMessage, setCurrentMessage] = useState<string>('');
  
  /**
   * Ø§Ù„Ø³ÙŠØ§Ù‚ Ø§Ù„Ø­Ø§Ù„ÙŠ
   */
  const [context, setContext] = useState<ConversationContext>({
    conversationId: generateId(),
    userId: user.id,
    history: [],
    tempVariables: {},
    userData: {
      name: user.name,
      role: user.role,
      preferences: {}
    }
  });
  
  // ===== 2. Ø­Ø§Ù„Ø© ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… =====
  
  /**
   * Ù‡Ù„ Ø§Ù„Ù†Ø§ÙØ°Ø© Ù…ÙØªÙˆØ­Ø©ØŸ
   */
  const [isOpen, setIsOpen] = useState<boolean>(false);
  
  /**
   * Ù‡Ù„ ÙÙŠ ÙˆØ¶Ø¹ Ø§Ù„Ø´Ø§Ø´Ø© Ø§Ù„ÙƒØ§Ù…Ù„Ø©ØŸ
   */
  const [isFullScreen, setIsFullScreen] = useState<boolean>(false);
  
  /**
   * Ù‡Ù„ ÙŠØªÙ… Ø¹Ø±Ø¶ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§ØªØŸ
   */
  const [showSettings, setShowSettings] = useState<boolean>(false);
  
  /**
   * Ø§Ù„Ù…ÙˆØ¶Ø¹ (Ù„Ù„Ø²Ø± Ø§Ù„Ø¹Ø§Ø¦Ù…)
   */
  const [position, setPosition] = useState<{ x: number; y: number }>({
    x: window.innerWidth - 80,
    y: window.innerHeight - 80
  });
  
  // ===== 3. Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© =====
  
  /**
   * Ù‡Ù„ ÙŠØªÙ… Ù…Ø¹Ø§Ù„Ø¬Ø© Ø±Ø³Ø§Ù„Ø©ØŸ
   */
  const [isProcessing, setIsProcessing] = useState<boolean>(false);
  
  /**
   * Ù‡Ù„ ÙŠÙƒØªØ¨ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ØŸ (Ù…Ø¤Ø´Ø± Ø§Ù„ÙƒØªØ§Ø¨Ø©)
   */
  const [isTyping, setIsTyping] = useState<boolean>(false);
  
  /**
   * Ø§Ù„Ù†ÙŠØ© Ø§Ù„Ù…Ø³ØªØ®Ø±Ø¬Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©
   */
  const [currentIntent, setCurrentIntent] = useState<ExtractedIntent | null>(null);
  
  // ===== 4. Ø§Ù„Ø£ÙˆØ§Ù…Ø± Ø§Ù„ØµÙˆØªÙŠØ© =====
  
  /**
   * Ù‡Ù„ Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„ØµÙˆØªÙŠ Ù†Ø´Ø·ØŸ
   */
  const [isRecording, setIsRecording] = useState<boolean>(false);
  
  /**
   * Ø§Ù„Ù†Øµ Ø§Ù„Ù…Ø³ØªØ®Ø±Ø¬ Ù…Ù† Ø§Ù„ØµÙˆØª
   */
  const [voiceText, setVoiceText] = useState<string>('');
  
  /**
   * Ù‡Ù„ Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ø§Ù„ØµÙˆØªÙŠ Ù…Ø¯Ø¹ÙˆÙ…ØŸ
   */
  const [isSpeechSupported, setIsSpeechSupported] = useState<boolean>(false);
  
  // ===== 5. Ø§Ù„Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª =====
  
  /**
   * Ø§Ù„Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ø§Ù„Ø­Ø§Ù„ÙŠØ©
   */
  const [suggestions, setSuggestions] = useState<Suggestion[]>([]);
  
  /**
   * Ù‡Ù„ ÙŠØªÙ… Ø¹Ø±Ø¶ Ø§Ù„Ø§Ù‚ØªØ±Ø§Ø­Ø§ØªØŸ
   */
  const [showSuggestions, setShowSuggestions] = useState<boolean>(true);
  
  // ===== 6. Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª =====
  
  /**
   * Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯
   */
  const [settings, setSettings] = useState<AssistantSettings>({
    enabled: true,
    language: 'ar',
    model: 'gpt-4',
    voice: {
      enabled: true,
      language: 'ar-SA',
      rate: 1,
      pitch: 1
    },
    voiceCommands: {
      enabled: true,
      wakeWord: 'Ù…Ø³Ø§Ø¹Ø¯',
      continuous: false
    },
    suggestions: {
      enabled: true,
      showOnStart: true
    },
    learning: {
      enabled: true,
      saveHistory: true
    }
  });
  
  // ===== 7. References =====
  
  /**
   * Ù…Ø±Ø¬Ø¹ Ù„Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ (Ù„Ù„ØªÙ…Ø±ÙŠØ± Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ)
   */
  const messagesEndRef = useRef<HTMLDivElement>(null);
  
  /**
   * Ù…Ø±Ø¬Ø¹ Ù„Ø­Ù‚Ù„ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„
   */
  const inputRef = useRef<HTMLTextAreaElement>(null);
  
  /**
   * Ù…Ø±Ø¬Ø¹ Ù„Ù…Ø­Ø±Ùƒ AI
   */
  const aiCoreRef = useRef<AI_ConsciousAssistantCore | null>(null);
  
  /**
   * Ù…Ø±Ø¬Ø¹ Ù„Ù…ØªØªØ¨Ø¹ Ø§Ù„ÙˆØ¹ÙŠ
   */
  const awarenessRef = useRef<AI_AwarenessTracker | null>(null);
  
  // ===== 8. Custom Hooks =====
  
  /**
   * Hook Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø°ÙƒÙŠ
   */
  const {
    processMessage,
    executeAction,
    getSuggestions,
    clearHistory
  } = useSmartAssistantEnhanced();
  
  /**
   * Hook Ø§Ù„Ø£ÙˆØ§Ù…Ø± Ø§Ù„ØµÙˆØªÙŠØ©
   */
  const {
    startListening,
    stopListening,
    isListening,
    transcript
  } = useVoiceCommands({
    onResult: (text) => {
      setVoiceText(text);
      setCurrentMessage(text);
    }
  });
  
  /**
   * Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
   */
  const { user } = useAuth();
  
  // ===== 9. Computed Values =====
  
  /**
   * Ø¹Ø¯Ø¯ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ ØºÙŠØ± Ø§Ù„Ù…Ù‚Ø±ÙˆØ¡Ø©
   */
  const unreadCount = useMemo(() => {
    return messages.filter(m => 
      m.role === 'assistant' && !m.metadata?.read
    ).length;
  }, [messages]);
  
  /**
   * Ù‡Ù„ ÙŠÙ…ÙƒÙ† Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ØŸ
   */
  const canSend = useMemo(() => {
    return currentMessage.trim().length > 0 && !isProcessing;
  }, [currentMessage, isProcessing]);
}
```

---

**(ÙŠØªØ¨Ø¹ ÙÙŠ Ø§Ù„Ù…Ù„Ù Ø§Ù„ØªØ§Ù„ÙŠ Ù„Ù„Ø£ÙˆØ§Ù…Ø± ÙˆØ§Ù„ØªÙØ§Ø¹Ù„Ø§Øª...)**
