              <CardContent className="space-y-4">
                {/* ุฒุฑ ูุชุญ ุงูุฎุฑูุทุฉ */}
                {!showMapPicker && (
                  <div className="flex items-center justify-between p-4 border-2 border-dashed border-blue-300 rounded-lg bg-blue-50">
                    <div className="flex items-center gap-3">
                      <Target className="w-6 h-6 text-blue-600" />
                      <div>
                        <h4 className="font-bold text-blue-800 text-right">ุชุญุฏูุฏ ุงููููุน ูู ุงูุฎุฑูุทุฉ</h4>
                        <p className="text-sm text-blue-600 text-right">ุงููุฑ ููุชุญ ุงูุฎุฑูุทุฉ ุงูุชูุงุนููุฉ ูุชุญุฏูุฏ ุงููููุน ุจุฏูุฉ</p>
                      </div>
                    </div>
                    <Button 
                      className="bg-blue-600 text-white hover:bg-blue-700"
                      onClick={() => setShowMapPicker(true)}
                    >
                      <MapPin className="w-4 h-4 mr-2" />
                      ูุชุญ ุงูุฎุฑูุทุฉ
                    </Button>
                  </div>
                )}

                {/* ุงูุฎุฑูุทุฉ ุงูุชูุงุนููุฉ */}
                {showMapPicker && (
                  <div className="space-y-4">
                    <div className="flex items-center justify-between">
                      <h4 className="font-bold text-blue-800">ุงููุฑ ุนูู ุงูุฎุฑูุทุฉ ูุชุญุฏูุฏ ุงููููุน</h4>
                      <Button
                        variant="outline"
                        size="sm"
                        onClick={() => setShowMapPicker(false)}
                      >
                        <X className="w-4 h-4 ml-2" />
                        ุฅุบูุงู ุงูุฎุฑูุทุฉ
                      </Button>
                    </div>
                    <MapLocationPicker onLocationSelect={handleMapLocationSelect} />
                  </div>
                )}

                {/* ุงูุนููุงู ุงููุทูู (6 ุญููู) */}
                <div className="bg-gradient-to-br from-red-50 to-orange-50 rounded-xl p-4 mb-4 border border-red-200">
                  <h3 className="font-bold text-gray-900 mb-3 flex items-center gap-2 text-right">
                    <Building className="w-4 h-4 text-red-600" />
                    ุงูุนููุงู ุงููุทูู (ุชููุงุฆู ูู ุงูุฎุฑูุทุฉ)
                  </h3>
                  
                  <div className="grid grid-cols-2 gap-3">
                    {/* 1. ุงููุฏููุฉ */}
                    <div>
                      <label className="text-xs font-medium text-gray-700 mb-1 block text-right">ุงููุฏููุฉ *</label>
                      <select
                        value={propertyData.locationDetails.city}
                        onChange={(e) => setPropertyData(prev => ({ 
                          ...prev, 
                          locationDetails: { ...prev.locationDetails, city: e.target.value } 
                        }))}
                        className="w-full px-3 py-2 border-2 border-red-300 rounded-lg text-sm bg-white text-right"
                        dir="rtl"
                      >
                        <option value="">ุงุฎุชุฑ ุงููุฏููุฉ</option>
                        {SAUDI_CITIES.map(city => (
                          <option key={city} value={city}>{city}</option>
                        ))}
                      </select>
                    </div>
                    
                    {/* 2. ุงูุญู */}
                    <div>
                      <label className="text-xs font-medium text-gray-700 mb-1 block text-right">ุงูุญู</label>
                      <input
                        placeholder="ุงูุญู"
                        value={propertyData.locationDetails.district}
                        onChange={(e) => setPropertyData(prev => ({ 
                          ...prev, 
                          locationDetails: { ...prev.locationDetails, district: e.target.value } 
                        }))}
                        className="w-full px-3 py-2 border-2 border-red-300 rounded-lg text-sm text-right"
                        dir="rtl"
                      />
                    </div>
                    
                    {/* 3. ุงูุดุงุฑุน */}
                    <div>
                      <label className="text-xs font-medium text-gray-700 mb-1 block text-right">ุงูุดุงุฑุน</label>
                      <input
                        placeholder="ุงุณู ุงูุดุงุฑุน"
                        value={propertyData.locationDetails.street}
                        onChange={(e) => setPropertyData(prev => ({ 
                          ...prev, 
                          locationDetails: { ...prev.locationDetails, street: e.target.value } 
                        }))}
                        className="w-full px-3 py-2 border-2 border-red-300 rounded-lg text-sm text-right"
                        dir="rtl"
                      />
                    </div>
                    
                    {/* 4. ุฑูู ุงููุจูู */}
                    <div>
                      <label className="text-xs font-medium text-gray-700 mb-1 block text-right">ุฑูู ุงููุจูู</label>
                      <input
                        placeholder="ุฑูู ุงููุจูู"
                        value={propertyData.locationDetails.buildingNumber}
                        onChange={(e) => setPropertyData(prev => ({ 
                          ...prev, 
                          locationDetails: { ...prev.locationDetails, buildingNumber: e.target.value } 
                        }))}
                        className="w-full px-3 py-2 border-2 border-red-300 rounded-lg text-sm text-right"
                        dir="rtl"
                      />
                    </div>
                    
                    {/* 5. ุงูุฑูุฒ ุงูุจุฑูุฏู */}
                    <div>
                      <label className="text-xs font-medium text-gray-700 mb-1 block text-right">ุงูุฑูุฒ ุงูุจุฑูุฏู</label>
                      <input
                        placeholder="ุงูุฑูุฒ ุงูุจุฑูุฏู"
                        value={propertyData.locationDetails.postalCode}
                        onChange={(e) => setPropertyData(prev => ({ 
                          ...prev, 
                          locationDetails: { ...prev.locationDetails, postalCode: e.target.value } 
                        }))}
                        className="w-full px-3 py-2 border-2 border-red-300 rounded-lg text-sm text-right"
                        dir="rtl"
                      />
                    </div>
                    
                    {/* 6. ุงูุฑูู ุงูุฅุถุงูู */}
                    <div>
                      <label className="text-xs font-medium text-gray-700 mb-1 block text-right">ุงูุฑูู ุงูุฅุถุงูู</label>
                      <input
                        placeholder="ุงูุฑูู ุงูุฅุถุงูู"
                        value={propertyData.locationDetails.additionalNumber}
                        onChange={(e) => setPropertyData(prev => ({ 
                          ...prev, 
                          locationDetails: { ...prev.locationDetails, additionalNumber: e.target.value } 
                        }))}
                        className="w-full px-3 py-2 border-2 border-red-300 rounded-lg text-sm text-right"
                        dir="rtl"
                      />
                    </div>
                  </div>
                </div>

                {/* ุนุฑุถ ุงูุฅุญุฏุงุซูุงุช */}
                {propertyData.locationDetails.latitude !== 0 && (
                  <div className="bg-blue-50 rounded-lg p-3 border border-blue-200">
                    <h4 className="text-xs font-bold text-blue-900 mb-2 text-right">๐ ุงูุฅุญุฏุงุซูุงุช ุงููุญููุธุฉ:</h4>
                    <div className="grid grid-cols-2 gap-2 text-xs">
                      <div className="text-right">
                        <span className="text-gray-600">ุฎุท ุงูุทูู:</span>
                        <span className="font-mono font-bold text-blue-900 mr-2">
                          {propertyData.locationDetails.longitude?.toFixed(6)}
                        </span>
                      </div>
                      <div className="text-right">
                        <span className="text-gray-600">ุฎุท ุงูุนุฑุถ:</span>
                        <span className="font-mono font-bold text-blue-900 mr-2">
                          {propertyData.locationDetails.latitude?.toFixed(6)}
                        </span>
                      </div>
                    </div>
                  </div>
                )}

                {/* ุฒุฑ ุฌูุจ ุจูุงูุงุช ุงูุณูู */}
                {propertyData.locationDetails.city && propertyData.locationDetails.district && (
                  <div className="text-center">
                    <Button 
                      onClick={fetchMarketData}
                      className="bg-[#01411C] text-white hover:bg-[#065f41]"
                    >
                      <RefreshCw className="w-4 h-4 mr-2" />
                      ุฌูุจ ุจูุงูุงุช ุงูุณูู ููููุทูุฉ
                    </Button>
                  </div>
                )}
              </CardContent>
